(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{340:function(t,s,a){"use strict";a.r(s);var n=a(33),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"å¤šè¿›ç¨‹æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šè¿›ç¨‹æ¶æ„"}},[t._v("#")]),t._v(" å¤šè¿›ç¨‹æ¶æ„")]),t._v(" "),a("p",[t._v("é€šå¸¸ï¼Œæˆ‘ä»¬ä½¿ç”¨"),a("strong",[t._v("Master/Workerè¿›ç¨‹æ¨¡å‹")]),t._v("ä½¿åº”ç”¨ç¨‹åºå¯ä»¥æœ€å¤§åŒ–ä½¿ç”¨CPUèµ„æºï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("ï¼šåè°ƒè¿›ç¨‹èµ„æºï¼Œæ¯”å¦‚ï¼šåˆ›å»º/é‡å¯"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("ã€å…¨å±€çŠ¶æ€/è¡Œä¸ºç»´æŠ¤ç­‰ã€‚")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("ï¼šå¤„ç†å®é™…ä¸šåŠ¡ã€‚")])])]),t._v(" "),a("p",[t._v("åœ¨å¤šè¿›ç¨‹æ¶æ„çš„åº”ç”¨ç¨‹åºä¸­ï¼Œ"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("ä¸­æ‰§è¡Œçš„æ“ä½œå…·æœ‰åº”ç”¨ç¨‹åºçº§åˆ«çš„å”¯ä¸€æ€§ï¼›è€Œä¸åŒçš„è¿›ç¨‹æ‹¥æœ‰å®Œå…¨ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹å†…çš„çŠ¶æ€å®Œå…¨éš”ç¦»ã€‚å› æ­¤ï¼Œå¯¹äºåœ¨å¤šä¸ª"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("ä¸­å…±äº«çš„çŠ¶æ€çš„åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Corejsæä¾›çš„"),a("a",{attrs:{href:"#%E5%85%A8%E5%B1%80%E5%AF%B9%E8%B1%A1"}},[t._v("å…¨å±€å¯¹è±¡")]),t._v("å®ç°ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("åœ¨å¤š"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæ¯ä¸ª"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("éœ€è¦ä¸¥æ ¼ä¿è¯æ— çŠ¶æ€è®¾è®¡ï¼Œå¦åˆ™å¯èƒ½äº§ç”Ÿå¥‡æ€ªçš„é—®é¢˜ã€‚")])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("Corejså¼•å…¥äº†"),a("a",{attrs:{href:"#clustercore"}},[t._v("ClusterCore")]),t._v("å’Œ"),a("a",{attrs:{href:"#appmain"}},[t._v("AppMain")]),t._v("ä»¥å®ç°åº”ç”¨ç¨‹åºçš„å¤šè¿›ç¨‹æ¶æ„ã€‚å…¶ä¸­ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("ClusterCore")]),t._v("ï¼šæ˜¯å¤šè¿›ç¨‹æ¶æ„çš„æ ¸å¿ƒï¼Œå…¶ä¸­åŒ…å«è¿›ç¨‹ç®¡ç†ã€é€šè®¯ç›¸å…³çš„APIã€‚")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("AppMain")]),t._v("ï¼šå®ç°åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªé˜¶æ®µï¼Œå°†è¢«"),a("strong",[t._v("ClusterCore")]),t._v("åŠ è½½å’Œè°ƒç”¨ã€‚")])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("é€šå¸¸ï¼Œæˆ‘ä»¬åº”å°†åº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘å…¨éƒ¨è£…å…¥"),a("strong",[t._v("AppMain")]),t._v("ï¼Œåœ¨"),a("strong",[t._v("AppMain")]),t._v("å¤–éƒ¨åªéœ€è¦ï¼š")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("æ‰§è¡Œ"),a("code",[t._v("Core.ClusterCore.init()")]),t._v("æŒ‡å®šåº”ç”¨ç¨‹åºä½¿ç”¨çš„"),a("strong",[t._v("AppMain")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("æ‰§è¡Œ"),a("code",[t._v("Core.ClusterCore.start()")]),t._v("å¯åŠ¨"),a("strong",[t._v("ClusterCore")]),t._v("ã€‚")])])]),t._v(" "),a("p",[a("strong",[t._v("ClusterCore")]),t._v("å°†åœ¨æ°å½“çš„æ—¶é—´ç‚¹è‡ªåŠ¨è°ƒç”¨"),a("strong",[t._v("AppMain")]),t._v("ä¸­å¯¹åº”ç”Ÿå‘½å‘¨æœŸä»¥é©±åŠ¨åº”ç”¨ç¨‹åºè¿è¡Œã€‚")])]),t._v(" "),a("h2",{attrs:{id:"å¤šè¿›ç¨‹æ¨¡å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šè¿›ç¨‹æ¨¡å‹"}},[t._v("#")]),t._v(" å¤šè¿›ç¨‹æ¨¡å‹")]),t._v(" "),a("p",[a("a",{attrs:{href:"./test.png"}},[t._v("å¤šè¿›ç¨‹æ¨¡å‹")])]),t._v(" "),a("h2",{attrs:{id:"appmain"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#appmain"}},[t._v("#")]),t._v(" AppMain")]),t._v(" "),a("p",[a("strong",[t._v("AppMain")]),t._v("æŠ½è±¡äº†"),a("strong",[t._v("åº”ç”¨æ¨¡å‹")]),t._v("å’Œ"),a("strong",[t._v("è¿›ç¨‹æ¨¡å‹")]),t._v("ï¼Œè¦†ç›–äº†åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªé˜¶æ®µï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"#onprocessdidinit-processid-launchparams"}},[a("code",[t._v("onProcessDidInit(processId, launchParams)")])]),t._v("ï¼š"),a("strong",[t._v("Master/Workerè¿›ç¨‹")]),t._v("å®Œæˆåˆå§‹åŒ–æ—¶è§¦å‘ã€‚")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#onworkerprocessdidexit-exitedprocessid-exiteddetail-reboot"}},[a("code",[t._v("onWorkerProcessDidExit(exitedProcessId, exitedDetail, reboot)")])]),t._v("ï¼š"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("æ•è·åˆ°"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("é€€å‡ºæ—¶è§¦å‘ã€‚")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#onprocesswillreceivemessage-fromprocessid-data-next"}},[a("code",[t._v("onProcessWillReceiveMessage(fromProcessId, data, next)")])]),t._v("ï¼š"),a("strong",[t._v("Master/Workerè¿›ç¨‹")]),t._v("æ¥æ”¶åˆ°è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯æ—¶è§¦å‘ã€‚")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#onprocessdidreceivemessage-fromprocessid-data"}},[a("code",[t._v("onProcessDidReceiveMessage(fromProcessId, data)")])]),t._v("ï¼š"),a("strong",[t._v("Master/Workerè¿›ç¨‹")]),t._v("å†³å®šå¤„ç†è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯æ—¶è§¦å‘ã€‚")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#onprocessdiddiscardmessage-fromprocessid-data"}},[a("code",[t._v("onProcessDidDiscardMessage(fromProcessId, data)")])]),t._v("ï¼š"),a("strong",[t._v("Master/Workerè¿›ç¨‹")]),t._v("å†³å®šä¸¢å¼ƒè¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯æ—¶è§¦å‘ã€‚")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#onprocesstracemessagetimeout-toprocessid-data"}},[a("code",[t._v("onProcessTraceMessageTimeout(toProcessId, data)")])]),t._v("ï¼š"),a("strong",[t._v("Master/Workerè¿›ç¨‹")]),t._v("ä¸­éœ€è¦åº”ç­”çš„è¿›ç¨‹é—´é€šä¿¡è¶…æ—¶æœªæ¥æ”¶åˆ°åº”ç­”æ¶ˆæ¯æ—¶è§¦å‘ã€‚")])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åœ¨å®ç°"),a("strong",[t._v("AppMain")]),t._v("æ—¶ï¼Œéœ€è¦ç»§æ‰¿è‡ª"),a("code",[t._v("Core.AppMain")]),t._v("ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"å®ä¾‹å±æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ä¾‹å±æ€§"}},[t._v("#")]),t._v(" å®ä¾‹å±æ€§")]),t._v(" "),a("p",[a("a",{attrs:{href:"#clustercore"}},[t._v("ClusterCore")]),t._v("æ‰§è¡Œåˆå§‹åŒ–æ—¶å°†è‡ªåŠ¨åˆ›å»º"),a("strong",[t._v("AppMain")]),t._v("å®ä¾‹ã€‚å› æ­¤ï¼Œåœ¨åº”ç”¨ç¨‹åºçš„ä»»æ„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨"),a("code",[t._v("this")]),t._v("è®¿é—®"),a("strong",[t._v("AppMain")]),t._v("çš„å®ä¾‹å±æ€§ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("processId")]),t._v("ï¼šå½“å‰è¿›ç¨‹çš„IDã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),a("p",[a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("å’Œ"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("ä¸­çš„"),a("code",[t._v("processId")]),t._v("æœ‰ä¸åŒçš„æ„æˆè§„åˆ™ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("ä¸­ï¼Œè¿›ç¨‹IDä¸º"),a("code",[t._v("'M'")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("ä¸­ï¼Œè¿›ç¨‹IDä¸º"),a("code",[t._v("'W:<%è¿›ç¨‹åç§»%>'")]),t._v("ã€‚")])])]),t._v(" "),a("p",[a("strong",[t._v("è¿›ç¨‹åç§»")]),t._v("æ˜¯ä¸€ä¸ª"),a("code",[t._v(">= 1")]),t._v("çš„æ•´æ•°ï¼Œåæ˜ äº†"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("åˆ›å»º"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("çš„æ—¶åºã€‚")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("clusterCore")]),t._v("ï¼šåˆ›å»ºå¹¶åŠ è½½"),a("strong",[t._v("AppMain")]),t._v("çš„"),a("a",{attrs:{href:"#clustercore"}},[t._v("ClusterCore")]),t._v("å®ä¾‹ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("launchParams")]),t._v("ï¼šè¿›ç¨‹çš„åˆå§‹åŒ–å‚æ•°ï¼Œå³"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("ä¸­çš„"),a("code",[t._v("process.argv")]),t._v("ã€‚")])])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[a("strong",[t._v("AppMainçš„å®ä¾‹å±æ€§å°†åœ¨"),a("code",[t._v("onProcessDidInit()")]),t._v("çš„é»˜è®¤è¡Œä¸ºä¸­è¢«è®¾ç½®ã€‚")])]),t._v(" "),a("p",[t._v("å› æ­¤ï¼Œæˆ‘ä»¬åœ¨é‡å†™"),a("code",[t._v("onProcessDidInit()")]),t._v("æ—¶å¿…é¡»æ‰§è¡Œ"),a("code",[t._v("super")]),t._v("æ“ä½œï¼Œä»¥ä¿è¯"),a("strong",[t._v("AppMain")]),t._v("ä¸­å®ä¾‹å±æ€§çš„æ­£ç¡®æ€§ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸ"}},[t._v("#")]),t._v(" è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥åœ¨"),a("strong",[t._v("AppMain")]),t._v("ä¸­æŒ‡å®šåº”ç”¨ç¨‹åºåœ¨è¿›ç¨‹ç»´åº¦ç”Ÿå‘½å‘¨æœŸä¸­çš„è¡Œä¸ºï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("ã€"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("åˆå§‹åŒ–å®Œæˆæ—¶ã€‚")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("æ£€æµ‹åˆ°æœ‰"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("é€€å‡ºæ—¶ã€‚")])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("å¯¹äº"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("çš„é€€å‡ºäº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("çš„ä¸šåŠ¡å±‚ä¸­ä½¿ç”¨"),a("code",[t._v("process.on()")]),t._v("ã€‚")])]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"onprocessdidinit-processid-launchparams"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onprocessdidinit-processid-launchparams"}},[t._v("#")]),t._v(" "),a("code",[t._v("onProcessDidInit(processId, launchParams)")])]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("processId")]),t._v("ï¼šåˆå§‹åŒ–å®Œæˆçš„è¿›ç¨‹IDã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("launchParams")]),t._v("ï¼šè¿›ç¨‹çš„åˆå§‹åŒ–å‚æ•°ï¼Œå³"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("ä¸­çš„"),a("code",[t._v("process.argv")]),t._v("ã€‚")])])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨åœºæ™¯"}},[t._v("#")]),t._v(" ä½¿ç”¨åœºæ™¯")]),t._v(" "),a("p",[a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("ã€"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("åˆå§‹åŒ–å®Œæˆæ—¶å°†è§¦å‘æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨æ­¤æ–¹æ³•ä¸­æ ¹æ®"),a("code",[t._v("processId")]),t._v("åˆ¤æ–­å½“å‰çš„è¿›ç¨‹ç¯å¢ƒæ‰§è¡Œä¸åŒçš„é€»è¾‘ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("å½“å‰æ˜¯"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("æ—¶ï¼Œä½¿ç”¨"),a("code",[t._v("Core.ClusterCore.fork()")]),t._v("åˆ›å»º"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("ï¼Œæˆ–æ‰§è¡Œä¸€äº›åœ¨æœŸæœ›åœ¨åº”ç”¨ç¨‹åºç»´åº¦ä¿è¯å”¯ä¸€æ€§çš„æ“ä½œã€‚")])]),t._v(" "),a("li",[a("p",[t._v("å½“å‰æ˜¯"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("æ—¶ï¼Œæ‰§è¡Œå®é™…ä¸šåŠ¡ï¼Œæ¯”å¦‚ï¼šå¯åŠ¨"),a("strong",[t._v("ServiceCore")]),t._v("ç­‰ã€‚")])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œå¦‚æœéœ€è¦åœ¨å¤šä¸ªåº”ç”¨ç¨‹åºé—´åŒæ­¥æˆ–å…±äº«æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ†å¸ƒå¼åè°ƒå·¥å…·ï¼Œæ¯”å¦‚ï¼š"),a("code",[t._v("ZooKeeper")]),t._v("ã€"),a("code",[t._v("Redis")]),t._v("ç­‰ã€‚")])]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"onworkerprocessdidexit-exitedprocessid-exiteddetail-reboot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onworkerprocessdidexit-exitedprocessid-exiteddetail-reboot"}},[t._v("#")]),t._v(" "),a("code",[t._v("onWorkerProcessDidExit(exitedProcessId, exitedDetail, reboot)")])]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-2"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("exitedProcessId")]),t._v("ï¼šå·²é€€å‡ºçš„è¿›ç¨‹IDã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("exitedDetail")]),t._v("ï¼šè¿›ç¨‹é€€å‡ºè¯¦æƒ…ï¼Œç»“æ„ä¸º"),a("code",[t._v("{ code, signal }")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("reboot")]),t._v("ï¼šé‡æ–°æ‹‰èµ·"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("çš„å‡½æ•°ã€‚ä½¿ç”¨"),a("code",[t._v("reboot()")]),t._v("é‡æ–°æ‹‰èµ·çš„è¿›ç¨‹å°†ä½¿ç”¨"),a("code",[t._v("exitedProcessId")]),t._v("ä½œä¸ºè¿›ç¨‹IDã€‚")])])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨åœºæ™¯-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨åœºæ™¯-2"}},[t._v("#")]),t._v(" ä½¿ç”¨åœºæ™¯")]),t._v(" "),a("p",[a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("æ£€æµ‹åˆ°è¿›ç¨‹ç»„ä¸­æœ‰"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("é€€å‡ºæ—¶å°†è§¦å‘æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚æˆ‘ä»¬åœ¨æ­¤æ–¹æ³•ä¸­æœ‰ä¸¤ç§é‡æ–°æ‹‰èµ·"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("çš„æ–¹å¼ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("ä½¿ç”¨"),a("code",[t._v("reboot()")]),t._v("ï¼šæ–°çš„"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("å°†å¤ç”¨é€€å‡ºè¿›ç¨‹çš„"),a("code",[t._v("processId")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("ä½¿ç”¨"),a("code",[t._v("Core.ClusterCore.fork()")]),t._v("ï¼šæ–°çš„"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("å°†ä½¿ç”¨è¿›ç¨‹ç»„å†…çš„è¿›ç¨‹åç§»åˆ›å»º"),a("code",[t._v("processId")]),t._v("ã€‚")])])]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"å®ç°åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°åŸç†"}},[t._v("#")]),t._v(" å®ç°åŸç†")]),t._v(" "),a("p",[t._v("åœ¨"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("ä¸­ï¼Œæ‰§è¡Œ"),a("code",[t._v("Core.ClusterCore.start()")]),t._v("å°†è§¦å‘"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("çš„åˆå§‹åŒ–åŠ¨ä½œï¼š")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("é¦–å…ˆï¼Œä½¿ç”¨nodejsåŸç”Ÿæ¨¡å—"),a("code",[t._v("cluster")]),t._v("ç›‘å¬"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("çš„é€€å‡ºæ¶ˆæ¯ï¼Œåœ¨"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("é€€å‡ºæ—¶è°ƒç”¨"),a("code",[t._v("onWorkerProcessDidExit()")]),t._v("é€šçŸ¥ä¸šåŠ¡å±‚ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("æ¥ä¸‹æ¥ï¼Œä½¿ç”¨åŒæ ·æ–¹å¼ç›‘å¬"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("çš„é€šä¿¡æ¶ˆæ¯ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("æœ€åï¼Œè°ƒç”¨"),a("code",[t._v("onProcessDidInit()")]),t._v("é€šçŸ¥ä¸šåŠ¡å±‚"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("å·²åˆå§‹åŒ–å®Œæˆã€‚")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("åœ¨"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("ä¸­æ‰§è¡Œ"),a("code",[t._v("Core.ClusterCore.start()")]),t._v("æ—¶ï¼Œå°†è§¦å‘"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("çš„åˆå§‹åŒ–åŠ¨ä½œï¼š")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("é¦–å…ˆï¼Œä½¿ç”¨"),a("code",[t._v("process.on()")]),t._v("ç›‘å¬æ¥è‡ª"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("çš„é€šä¿¡æ¶ˆæ¯ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("æ¥ä¸‹æ¥ï¼Œå‘"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("å‘èµ·"),a("a",{attrs:{href:"#traceipc"}},[t._v("TraceIPC")]),t._v("ä»¥è·å–è¿›ç¨‹çš„åˆå§‹åŒ–ä¿¡æ¯ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("æœ€åï¼Œåœ¨æ”¶åˆ°"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("åº”ç­”çš„åˆå§‹åŒ–ä¿¡æ¯æ—¶è°ƒç”¨"),a("code",[t._v("onProcessDidInit()")]),t._v("é€šçŸ¥ä¸šåŠ¡å±‚"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("å·²åˆå§‹åŒ–å®Œæˆã€‚")])])]),t._v(" "),a("h2",{attrs:{id:"clustercore"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clustercore"}},[t._v("#")]),t._v(" ClusterCore")]),t._v(" "),a("p",[t._v("åœ¨è®¾è®¡ä¸Šï¼Œ"),a("strong",[t._v("ClusterCore")]),t._v("æ˜¯è¿›ç¨‹çº§åˆ«çš„å•ä¾‹ï¼Œåœ¨å®ä¾‹åŒ–æ—¶å°†è‡ªåŠ¨æ ¹æ®å½“å‰è¿è¡Œè¿›ç¨‹çš„ç±»å‹åŠ è½½å¯¹åº”çš„APIã€‚å³ä½¿åœ¨ä¸åŒçš„è¿›ç¨‹ç¯å¢ƒä¸­ï¼Œç›¸åŒçš„APIåœ¨ä½¿ç”¨ä½“éªŒä¸Šå®Œå…¨ç›¸åŒã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨"),a("strong",[t._v("ClusterCore")]),t._v("æ—¶é€šå¸¸æ— éœ€å…³æ³¨è¿›ç¨‹ç±»å‹ã€‚")]),t._v(" "),a("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿è¡Œåœ¨"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("ä¸­çš„"),a("strong",[t._v("ClusterCore")]),t._v("æ‹¥æœ‰"),a("strong",[t._v("åˆ›å»ºWorkerè¿›ç¨‹")]),t._v("å’Œ"),a("strong",[t._v("å…³é—­åº”ç”¨ç¨‹åº")]),t._v("çš„èƒ½åŠ›ã€‚å³è¿è¡Œåœ¨"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("ä¸­çš„"),a("strong",[t._v("ClusterCore")]),t._v("æ— æ³•è°ƒç”¨ä»¥ä¸‹APIï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("fork(workerNum)")]),t._v("ï¼šåˆ›å»ºæŒ‡å®šæ•°é‡çš„"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("shutdown([exitCode])")]),t._v("ï¼šå…³é—­è¿›ç¨‹ç»„ä¸­çš„æ‰€æœ‰"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("å’Œ"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("ã€‚")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œ"),a("strong",[t._v("ClusterCore")]),t._v("å°†è‡ªåŠ¨è°ƒç”¨"),a("strong",[t._v("AppMain")]),t._v("ä¸­å¯¹åº”ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä»¥é©±åŠ¨åº”ç”¨ç¨‹åºçš„è¿è¡Œã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨"),a("strong",[t._v("ClusterCore")]),t._v("å‰éœ€è¦æŒ‡å®š"),a("strong",[t._v("AppMain")]),t._v("è¿›è¡Œåˆå§‹åŒ–ã€‚")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä½¿ç”¨"),a("strong",[t._v("ClusterCore")]),t._v("å’Œ"),a("strong",[t._v("AppMain")]),t._v("çš„æ ‡å‡†æ ·ä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Core "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-corejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * å®ç°AppMain\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * è¿›ç¨‹åˆå§‹åŒ–å®Œæˆ\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é‡å†™æ—¶å¿…é¡»æ‰§è¡Œsuperæ“ä½œ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨Masterè¿›ç¨‹åˆå§‹åŒ–å®Œæˆå - åˆ›å»º4ä¸ªWorkerè¿›ç¨‹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Masterè¿›ç¨‹åˆå§‹åŒ–å®Œæˆ")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨Workerè¿›ç¨‹åˆå§‹åŒ–å®Œæˆå - æ‰§è¡Œä¸šåŠ¡é€»è¾‘")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Workerè¿›ç¨‹åˆå§‹åŒ–å®Œæˆ -> ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¨¡æ‹Ÿworkerè¿›ç¨‹é€€å‡ºè§¦å‘é‡å¯")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("exit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * Workerè¿›ç¨‹é€€å‡º\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onWorkerProcessDidExit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("exitedProcessId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exitedDetail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reboot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨workerè¿›ç¨‹é€€å‡ºæ—¶è‡ªåŠ¨é‡å¯")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reboot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–å¹¶å¯åŠ¨ClusterCore")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br")])]),a("h2",{attrs:{id:"è¿›ç¨‹é—´é€šä¿¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿›ç¨‹é—´é€šä¿¡"}},[t._v("#")]),t._v(" è¿›ç¨‹é—´é€šä¿¡")]),t._v(" "),a("p",[t._v("è¿›ç¨‹é—´é€šä¿¡æœ‰ä¸¤ç§åœºæ™¯ï¼š")]),t._v(" "),a("ol",[a("li",[a("p",[a("strong",[t._v("å‘é€æ–¹")]),t._v("å‘"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("å•å‘å‘é€æ¶ˆæ¯ï¼Œæ— éœ€å…³æ³¨"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("çš„åº”ç­”æƒ…å†µï¼Œå³å‘èµ·"),a("a",{attrs:{href:"#ipc"}},[t._v("IPC")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("å‘é€æ–¹")]),t._v("å‘"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("å‘é€æ¶ˆæ¯åï¼Œéœ€è¦æ¥æ”¶åˆ°"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("çš„åº”ç­”æ¶ˆæ¯åæ‰è®¤ä¸ºé€šä¿¡å®Œæˆï¼Œå³å‘èµ·"),a("a",{attrs:{href:"#traceipc"}},[t._v("TraceIPC")]),t._v("ã€‚")])])]),t._v(" "),a("h3",{attrs:{id:"apiè®¾è®¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apiè®¾è®¡"}},[t._v("#")]),t._v(" APIè®¾è®¡")]),t._v(" "),a("p",[a("strong",[t._v("ClusterCore")]),t._v("æä¾›äº†åœ¨è¿›ç¨‹ç»„ä¸­çš„ä»»æ„è¿›ç¨‹é—´å‘èµ·"),a("a",{attrs:{href:"#ipc"}},[t._v("IPC")]),t._v("å’Œ"),a("a",{attrs:{href:"#traceipc"}},[t._v("TraceIPC")]),t._v("çš„APIï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"#senddata-processid-data-callback"}},[a("code",[t._v("sendData(processId, data[, callBack])")])]),t._v("ï¼šç”¨äºå‘èµ·"),a("a",{attrs:{href:"#ipc"}},[t._v("IPC")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#senddatawithtracecallback-processid-data-options-callback"}},[a("code",[t._v("sendDataWithTraceCallBack(processId, data, options[, callBack])")])]),t._v("ï¼šç”¨äºå‘èµ·"),a("a",{attrs:{href:"#traceipc"}},[t._v("TraceIPC")]),t._v("ã€‚")])])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[a("strong",[t._v("ClusterCoreå°†æ‹’ç»åœ¨ç›¸åŒçš„è¿›ç¨‹é—´å‘èµ·çš„é€šä¿¡åŠ¨ä½œã€‚")])])]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"senddata-processid-data-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#senddata-processid-data-callback"}},[t._v("#")]),t._v(" "),a("code",[t._v("sendData(processId, data[, callBack])")])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨åœºæ™¯-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨åœºæ™¯-3"}},[t._v("#")]),t._v(" ä½¿ç”¨åœºæ™¯")]),t._v(" "),a("p",[t._v("ç”¨äº"),a("strong",[t._v("å‘é€æ–¹")]),t._v("å‘"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("å‘é€å•å‘çš„è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯ï¼Œå³å‘èµ·"),a("a",{attrs:{href:"#ipc"}},[t._v("IPC")]),t._v("ã€‚")]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-3"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("processId")]),t._v("ï¼š"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("çš„è¿›ç¨‹IDï¼Œå¿…å¡«é¡¹ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),a("code",[t._v("Core.ClusterCore.getAllProcessIds()")]),t._v("è·å–è¿›ç¨‹ç»„ä¸­çš„æ‰€æœ‰è¿›ç¨‹IDã€‚")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("data")]),t._v("ï¼š"),a("strong",[t._v("å‘é€æ–¹")]),t._v("å‘"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("å‘é€çš„è‡ªå®šä¹‰æ•°æ®ï¼Œå¿…å¡«é¡¹ã€‚æˆ‘ä»¬å°†åœ¨"),a("a",{attrs:{href:"#%E6%B6%88%E6%81%AF%E7%BB%93%E6%9E%84"}},[t._v("æ¶ˆæ¯ç»“æ„")]),t._v("ä¸€èŠ‚ä¸­è®¨è®ºå…·ä½“ç»†èŠ‚ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("callBack")]),t._v("ï¼šå‘èµ·è¿›ç¨‹é—´é€šä¿¡åŠ¨ä½œçš„æ‰§è¡Œç»“æœï¼Œéå¿…å¡«é¡¹ã€‚æ˜¯ä¸€ä¸ªcpsé£æ ¼çš„"),a("code",[t._v("Function")]),t._v("ï¼Œå…¶å‚æ•°åˆ—è¡¨ä¸º"),a("code",[t._v("(error)")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥æ ¹æ®"),a("code",[t._v("callBack")]),t._v("å›è°ƒçš„"),a("code",[t._v("error")]),t._v("åˆ¤æ–­è¿›ç¨‹é—´é€šä¿¡æ˜¯å¦æ‰§è¡ŒæˆåŠŸï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å½“æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œ"),a("code",[t._v("error")]),t._v("çš„å€¼ä¸º"),a("code",[t._v("null")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("å½“æ‰§è¡Œå¤±è´¥æ—¶ï¼Œ"),a("code",[t._v("error")]),t._v("çš„å€¼ä¸ºé€šä¿¡å¤±è´¥çš„åŸå› ã€‚")])])])])]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"senddatawithtracecallback-processid-data-options-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#senddatawithtracecallback-processid-data-options-callback"}},[t._v("#")]),t._v(" "),a("code",[t._v("sendDataWithTraceCallBack(processId, data, options[, callBack])")])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨åœºæ™¯-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨åœºæ™¯-4"}},[t._v("#")]),t._v(" ä½¿ç”¨åœºæ™¯")]),t._v(" "),a("p",[a("strong",[t._v("å‘é€æ–¹")]),t._v("å‘"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("å‘é€éœ€è¦åº”ç­”çš„è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯ï¼Œå³å‘èµ·"),a("a",{attrs:{href:"#traceipc"}},[t._v("TraceIPC")]),t._v("ã€‚")]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-4"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("processId")]),t._v("ï¼š"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("çš„è¿›ç¨‹IDï¼Œå¿…å¡«é¡¹ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),a("code",[t._v("Core.ClusterCore.getAllProcessIds()")]),t._v("è·å–è¿›ç¨‹ç»„ä¸­çš„æ‰€æœ‰è¿›ç¨‹IDã€‚")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("data")]),t._v("ï¼š"),a("strong",[t._v("å‘é€æ–¹")]),t._v("å‘"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("å‘é€çš„è‡ªå®šä¹‰æ•°æ®ï¼Œå¿…å¡«é¡¹ã€‚æˆ‘ä»¬å°†åœ¨"),a("a",{attrs:{href:"#%E6%B6%88%E6%81%AF%E7%BB%93%E6%9E%84"}},[t._v("æ¶ˆæ¯ç»“æ„")]),t._v("ä¸€èŠ‚ä¸­è®¨è®ºå…·ä½“ç»†èŠ‚ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("options")]),t._v("ï¼šè¿›ç¨‹é—´é€šä¿¡çš„é…ç½®é¡¹ï¼Œå¿…å¡«é¡¹ï¼Œæ”¯æŒä½¿ç”¨"),a("code",[t._v("Object")]),t._v("æˆ–"),a("code",[t._v("Function")]),t._v("ç±»å‹çš„é…ç½®é¡¹ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[a("strong",[t._v("å½“æˆ‘ä»¬ä½¿ç”¨"),a("code",[t._v("Object")]),t._v("ç±»å‹çš„"),a("code",[t._v("options")]),t._v("æ—¶ï¼Œå…¶ç»“æ„ä¸º"),a("code",[t._v("{ timeout, traceCallBack }")]),t._v("ï¼š")])]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("timeout")]),t._v("ï¼šåˆ¤å®šåº”ç­”è¶…æ—¶çš„æ¯«ç§’æ•°ï¼Œé»˜è®¤ä¸º"),a("code",[t._v("10000")]),t._v("ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("åœ¨æŒ‡å®šæ—¶é—´å†…æœªæ”¶åˆ°æ¥è‡ª"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("åº”ç­”æ¶ˆæ¯æ—¶ï¼Œå°†è§¦å‘"),a("strong",[t._v("AppMain")]),t._v("ä¸­çš„"),a("code",[t._v("onProcessTraceMessageTimeout()")]),t._v("è¿›è¡Œæ¶ˆæ¯è¶…æ—¶å¤„ç†ã€‚")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("traceCallBack")]),t._v("ï¼š"),a("strong",[t._v("å‘é€æ–¹")]),t._v("æ”¶åˆ°åº”ç­”æ¶ˆæ¯æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼Œå¿…å¡«é¡¹ã€‚å…¶å‚æ•°åˆ—è¡¨ä¸º"),a("code",[t._v("(resData, next)")]),t._v("ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),a("code",[t._v("next()")]),t._v("ä½¿åº”ç­”æ¶ˆæ¯è¿›å…¥"),a("strong",[t._v("AppMain")]),t._v("ä¸­çš„"),a("code",[t._v("onProcessDidReceiveMessage()")]),t._v("ç»§ç»­å¤„ç†ã€‚")])])])]),t._v(" "),a("p",[a("strong",[t._v("å½“ä½¿ç”¨"),a("code",[t._v("Function")]),t._v("ç±»å‹çš„"),a("code",[t._v("options")]),t._v("æ—¶ï¼Œå°†ç›´æ¥åº”ç”¨äº"),a("code",[t._v("traceCallBack")]),t._v("ï¼Œä¸”æ­¤æ—¶"),a("code",[t._v("timeout")]),t._v("ä¸º"),a("code",[t._v("10000")]),t._v("ã€‚")])])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("callBack")]),t._v("ï¼šè¿›ç¨‹é—´é€šä¿¡çš„æ‰§è¡Œç»“æœï¼Œéå¿…å¡«é¡¹ã€‚æ˜¯ä¸€ä¸ªcpsé£æ ¼çš„"),a("code",[t._v("Function")]),t._v("ï¼Œå…¶å‚æ•°åˆ—è¡¨ä¸º"),a("code",[t._v("(error)")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥æ ¹æ®"),a("code",[t._v("callBack")]),t._v("å›è°ƒçš„"),a("code",[t._v("error")]),t._v("åˆ¤æ–­è¿›ç¨‹é—´é€šä¿¡æ˜¯å¦æ‰§è¡ŒæˆåŠŸï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å½“æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œ"),a("code",[t._v("error")]),t._v("çš„å€¼ä¸º"),a("code",[t._v("null")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("å½“æ‰§è¡Œå¤±è´¥æ—¶ï¼Œ"),a("code",[t._v("error")]),t._v("çš„å€¼ä¸ºé€šä¿¡å¤±è´¥çš„åŸå› ã€‚")])])])])]),t._v(" "),a("h3",{attrs:{id:"æ¶ˆæ¯ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯ç»“æ„"}},[t._v("#")]),t._v(" æ¶ˆæ¯ç»“æ„")]),t._v(" "),a("p",[t._v("è¿›ç¨‹é—´é€šä¿¡ä¼ è¾“çš„æ¶ˆæ¯å°†è¢«"),a("strong",[t._v("ClusterCore")]),t._v("åŒ…è£…ä¸ºç”±å…ƒæ•°æ®"),a("code",[t._v("meta")]),t._v("å’Œè‡ªå®šä¹‰æ•°æ®"),a("code",[t._v("data")]),t._v("æ„æˆçš„"),a("code",[t._v("Object")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("å…ƒæ•°æ®"),a("code",[t._v("meta")]),t._v("ä¸­å­˜å‚¨äº†æ¶ˆæ¯çš„åŸºæœ¬ä¿¡æ¯ï¼Œé€šå¸¸ä¸è¢«ä¸šåŠ¡å±‚æ„ŸçŸ¥ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("traceId")]),t._v("ï¼šæ¶ˆæ¯çš„é“¾è·¯è¿½è¸ªIDã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("toProcessId")]),t._v("ï¼š"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("çš„è¿›ç¨‹IDã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("fromProcessId")]),t._v("ï¼š"),a("strong",[t._v("å‘é€æ–¹")]),t._v("çš„è¿›ç¨‹IDã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("isRes")]),t._v("ï¼šæ˜¯å¦ä¸º"),a("a",{attrs:{href:"#traceipc"}},[t._v("TraceIPC")]),t._v("çš„åº”ç­”æ¶ˆæ¯ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("isTransitRes")]),t._v("ï¼šæ˜¯å¦ä¸ºè½¬å‘ç»“æœçš„åº”ç­”æ¶ˆæ¯ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("transitTraceId")]),t._v("ï¼šè½¬å‘ç»“æœæ¶ˆæ¯çš„é“¾è·¯è¿½è¸ªIDã€‚")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("è‡ªå®šä¹‰æ•°æ®"),a("code",[t._v("data")]),t._v("ç”±ä¸šåŠ¡å±‚å®šä¹‰ï¼Œä¸»è¦ç”¨äºå­˜å‚¨ä¸šåŠ¡åŠŸèƒ½æ‰€éœ€çš„ä¿¡æ¯ï¼Œé€šå¸¸åŒ…æ‹¬"),a("strong",[t._v("è§¦å‘åŠ¨ä½œ")]),t._v("å’Œ"),a("strong",[t._v("é™„å±æ•°æ®")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åœ¨è¿›è¡Œè¿›ç¨‹é—´é€šä¿¡æ—¶ï¼Œå¿…é¡»åœ¨è‡ªå®šä¹‰æ•°æ®ä¸­æŒ‡å®šæ¶ˆæ¯çš„"),a("strong",[t._v("è§¦å‘åŠ¨ä½œ")]),t._v("ï¼Œå³"),a("code",[t._v("action")]),t._v("ã€‚å¦å¤–ï¼Œæ¨èä½¿ç”¨"),a("code",[t._v("payload")]),t._v("ä½œä¸º"),a("strong",[t._v("é™„å±æ•°æ®")]),t._v("çš„é”®åã€‚")]),t._v(" "),a("p",[t._v("é€šå¸¸ï¼Œè¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯çš„å…ƒæ•°æ®ä¸å‘ä¸šåŠ¡å±‚æš´éœ²ã€‚åœ¨ä»¥ä¸‹åœºæ™¯ä¸­ï¼Œ"),a("strong",[t._v("ClusterCore")]),t._v("ä»…å‘ä¸šåŠ¡å±‚æŠ›å‡ºè‡ªå®šä¹‰æ•°æ®"),a("code",[t._v("data")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("onProcessWillReceiveMessage()")]),t._v("ä¸­è¿›ç¨‹æ”¶åˆ°çš„è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("onProcessDidReceiveMessage()")]),t._v("ä¸­è¿›ç¨‹å†³å®šå¤„ç†çš„è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("onProcessDidDiscardMessage()")]),t._v("ä¸­è¿›ç¨‹å†³å®šä¸¢å¼ƒçš„è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("onProcessTraceMessageTimeout()")]),t._v("ä¸­è¶…æ—¶æœªè¢«åº”ç­”çš„è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("sendDataWithTraceCallBack()")]),t._v("ä¸­è§¦å‘"),a("code",[t._v("traceCallBack()")]),t._v("æ—¶æ”¶åˆ°çš„åº”ç­”æ¶ˆæ¯ã€‚")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),a("code",[t._v("data.getOriginData()")]),t._v("åœ¨ä¸šåŠ¡å±‚ä¸­å–å¾—æ¶ˆæ¯çš„åŸå§‹ç»“æ„ä»¥è®¿é—®å…ƒæ•°æ®ï¼Œå³åŒ…å«"),a("code",[t._v("meta")]),t._v("å’Œ"),a("code",[t._v("data")]),t._v("çš„"),a("code",[t._v("Object")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),a("p",[t._v("åœ¨å®ç°åŸç†ä¸Šï¼Œ"),a("strong",[t._v("ClusterCore")]),t._v("æ¥æ”¶åˆ°è¿›ç¨‹é—´é€šä¿¡çš„æ¶ˆæ¯æ—¶ï¼Œå°†å¯¹æ¶ˆæ¯ç»“æ„çš„åŸå§‹çŠ¶æ€è¿›è¡ŒDeep Copyç”Ÿæˆå¿«ç…§ï¼Œä¸šåŠ¡å±‚æ‰§è¡Œ"),a("code",[t._v("getOriginData()")]),t._v("æ—¶å°†å–å¾—æ­¤å¿«ç…§ã€‚")]),t._v(" "),a("p",[t._v("å› æ­¤ï¼Œåœ¨ä¸šåŠ¡å±‚ä¸­ä¿®æ”¹è‡ªå®šä¹‰æ•°æ®"),a("code",[t._v("data")]),t._v("å¹¶ä¸ä¼šå½±å“æ¶ˆæ¯çš„åŸå§‹ç»“æ„ã€‚")])]),t._v(" "),a("p",[t._v("å¦å¤–ï¼Œä¸šåŠ¡å±‚ä¸­çš„è‡ªå®šä¹‰æ•°æ®"),a("code",[t._v("data")]),t._v("å¯ä»¥ä½¿ç”¨"),a("code",[t._v("getTraceDetail()")]),t._v("è·å–æ¶ˆæ¯çš„é“¾è·¯è¿½è¸ªä¿¡æ¯ï¼Œç”¨äºåº”ç­”"),a("a",{attrs:{href:"#traceipc"}},[t._v("TraceIPC")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("æ‰§è¡Œ"),a("code",[t._v("data.getTraceDetail()")]),t._v("å°†å¾—åˆ°ç»“æ„ä¸º"),a("code",[t._v("{ traceId, responsive, resTrace }")]),t._v("çš„"),a("code",[t._v("Object")]),t._v("ï¼Œå…¶ä¸­ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("traceId")]),t._v("ï¼šæ¶ˆæ¯çš„é“¾è·¯è¿½è¸ªIDã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("responsive")]),t._v("ï¼šæ¶ˆæ¯æ˜¯å¦å¯åº”ç­”ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("resTrace")]),t._v("ï¼šæ¶ˆæ¯çš„å¿«æ·åº”ç­”æ–¹æ³•ï¼Œå…¶å‚æ•°åˆ—è¡¨ä¸º"),a("code",[t._v("(data[, callBack])")]),t._v("ã€‚")])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("åœ¨è¿›è¡Œè¿›ç¨‹é—´é€šä¿¡æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä»…éœ€æŒ‡å®šæ¶ˆæ¯çš„è‡ªå®šä¹‰æ•°æ®ï¼Œå³"),a("code",[t._v("data")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºé¿å…nodejsåœ¨è¿›ç¨‹é—´é€šä¿¡è¿‡ç¨‹ä¸­è‡ªåŠ¨æ‰§è¡Œçš„åºåˆ—åŒ–å¯¹æ¶ˆæ¯çš„å®Œæ•´æ€§äº§ç”Ÿå½±å“ï¼Œæˆ‘ä»¬åº”ä½¿ç”¨åŸºæœ¬ç±»å‹ç»„æˆ"),a("code",[t._v("data")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("Array")])]),t._v(" "),a("li",[a("code",[t._v("Object")])]),t._v(" "),a("li",[a("code",[t._v("Number")])]),t._v(" "),a("li",[a("code",[t._v("String")])]),t._v(" "),a("li",[a("code",[t._v("Boolean")])])])]),t._v(" "),a("h3",{attrs:{id:"ipc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ipc"}},[t._v("#")]),t._v(" IPC")]),t._v(" "),a("p",[t._v("å¯¹äºæ— éœ€å…³æ³¨"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("åº”ç­”çš„å•å‘è¿›ç¨‹é—´é€šä¿¡ï¼Œä½¿ç”¨"),a("code",[t._v("sendData()")]),t._v("ç›´æ¥å‘ç›®æ ‡è¿›ç¨‹å‘é€æ¶ˆæ¯å³å¯ã€‚")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå•å‘è¿›ç¨‹é—´é€šä¿¡çš„ğŸŒ°ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Core "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-corejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * è¿›ç¨‹åˆå§‹åŒ–å®Œæˆ\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Masterè¿›ç¨‹ - åˆ›å»ºä¸¤ä¸ªWorkerè¿›ç¨‹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Workerè¿›ç¨‹ - åœ¨ä¸¤ä¸ªWorkerè¿›ç¨‹é—´è¿›è¡Œé€šä¿¡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAllProcessIds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" processIds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" processIds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" toProcessId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processIds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fromProcessId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processIds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" fromProcessId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("toProcessId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®æ¶ˆæ¯çš„è§¦å‘åŠ¨ä½œ")]),t._v("\n          action"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TEST_IPC_ACTION'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®æ¶ˆæ¯çš„é™„å±æ•°æ®")]),t._v("\n          payload"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¿™æ˜¯ä¸€ä¸ªğŸŒ°'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * è¿›ç¨‹ç¡®è®¤å¤„ç†è‡ªå®šä¹‰é€šä¿¡æ¶ˆæ¯\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidReceiveMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fromProcessId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("è¿›ç¨‹[")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("]å¤„ç†æ¥è‡ªè¿›ç¨‹[")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("fromProcessId"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("]çš„æ¶ˆæ¯:[")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨AppMainåˆå§‹åŒ–ClusterCoreå¹¶å¯åŠ¨")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br")])]),a("h3",{attrs:{id:"traceipc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#traceipc"}},[t._v("#")]),t._v(" TraceIPC")]),t._v(" "),a("p",[t._v("å¯¹äºéœ€è¦"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("åº”ç­”çš„åŒå‘çš„è¿›ç¨‹é—´é€šä¿¡ï¼Œéœ€è¦"),a("strong",[t._v("å‘é€æ–¹")]),t._v("å’Œ"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("è¿›è¡Œåä½œï¼š")]),t._v(" "),a("ul",[a("li",[t._v("åœ¨"),a("strong",[t._v("å‘é€æ–¹")]),a("a",{attrs:{href:"#%E5%8F%91%E8%B5%B7traceipc"}},[t._v("å‘èµ·TraceIPC")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("åœ¨"),a("strong",[t._v("æ¥æ”¶æ–¹")]),a("a",{attrs:{href:"#%E5%BA%94%E7%AD%94traceipc"}},[t._v("åº”ç­”TraceIPC")]),t._v("ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"å‘èµ·traceipc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘èµ·traceipc"}},[t._v("#")]),t._v(" å‘èµ·TraceIPC")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v("å‘é€æ–¹")]),t._v("ä½¿ç”¨"),a("code",[t._v("sendDataWithTraceCallBack()")]),t._v("å‘ç›®æ ‡è¿›ç¨‹å‘èµ·"),a("strong",[t._v("TraceIPC")]),t._v("ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ClusterCore")]),t._v("å°†åœ¨"),a("strong",[t._v("å‘é€æ–¹")]),t._v("å‘èµ·"),a("strong",[t._v("TraceIPC")]),t._v("æ—¶æ‰§è¡Œä¸‰ä¸ªæ“ä½œï¼š")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("ç”Ÿæˆ"),a("code",[t._v("traceId")]),t._v("å¡«å……è‡³å…ƒæ•°æ®"),a("code",[t._v("meta")]),t._v("ä¸­ä»¥è¿½è¸ª"),a("strong",[t._v("TraceIPC")]),t._v("é“¾è·¯ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("ä½¿ç”¨æ­¥éª¤â‘ ä¸­ç”Ÿæˆçš„"),a("code",[t._v("traceId")]),t._v("åœ¨å½“å‰è¿›ç¨‹ä¸­æ³¨å†Œæ­¤æ¬¡"),a("strong",[t._v("TraceIPC")]),t._v("çš„è¿½è¸ªä¿¡æ¯ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("å³ï¼šæ¶ˆæ¯"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("çš„è¿›ç¨‹IDå’Œæ”¶åˆ°åº”ç­”æ¶ˆæ¯æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°"),a("code",[t._v("traceCallBack")]),t._v("ã€‚")])])]),t._v(" "),a("li",[a("p",[t._v("å½“æ¥æ”¶åˆ°çš„æ¶ˆæ¯å…ƒæ•°æ®ä¸­åŒ…å«å·²è¢«æ³¨å†Œçš„"),a("code",[t._v("traceId")]),t._v("ä¸”æ¥æºæ–¹ä¸æ³¨å†Œä¿¡æ¯åŒ¹é…æ—¶ï¼Œè®¤ä¸ºæ­¤æ¶ˆæ¯ä¸º"),a("strong",[t._v("TraceIPC")]),t._v("çš„åº”ç­”æ¶ˆæ¯ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("æ­¤æ—¶å°†åˆ†å‘æ¶ˆæ¯è¿›å…¥ä¸"),a("code",[t._v("traceId")]),t._v("å¯¹åº”çš„"),a("code",[t._v("traceCallBack")]),t._v("å¹¶æ³¨é”€å…¶æ³¨å†ŒçŠ¶æ€ã€‚")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥åœ¨å‘èµ·"),a("strong",[t._v("TraceIPC")]),t._v("æ—¶æŒ‡å®šåˆ¤å®šåº”ç­”è¶…æ—¶çš„æ—¶é—´ï¼Œå½“"),a("strong",[t._v("å‘é€æ–¹")]),t._v("åœ¨æŒ‡å®šæ—¶é—´å†…æœªæ”¶åˆ°æ¥è‡ª"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("çš„åº”ç­”æ¶ˆæ¯æ—¶ï¼Œå°†è‡ªåŠ¨æ³¨é”€æ­¤æ¬¡"),a("strong",[t._v("TraceIPC")]),t._v("ä½¿ç”¨çš„"),a("code",[t._v("traceId")]),t._v("å¯¹åº”çš„æ³¨å†Œä¿¡æ¯å¹¶è§¦å‘"),a("strong",[t._v("AppMain")]),t._v("ä¸­çš„"),a("code",[t._v("onProcessTraceMessageTimeout()")]),t._v("ä»¥å¯¹è¶…æ—¶æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚")]),t._v(" "),a("p",[t._v("å¦å¤–ï¼Œåœ¨"),a("strong",[t._v("TraceIPC")]),t._v("è¶…æ—¶åï¼Œå¦‚æœæ”¶åˆ°äº†åº”ç­”æ¶ˆæ¯å°†ç›´æ¥è§¦å‘"),a("strong",[t._v("AppMain")]),t._v("ä¸­çš„"),a("code",[t._v("onProcessDidDiscardMessage()")]),t._v("è¿›è¡Œèˆå¼ƒå¤„ç†ã€‚")])]),t._v(" "),a("p",[t._v("å¯¹äº"),a("code",[t._v("traceId")]),t._v("çš„ç»“æ„ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ç”±24ä½å­—ç¬¦ç»„æˆã€‚")]),t._v(" "),a("li",[t._v("å‰12ä½ä¸ºå½“å‰æ—¶é—´æˆ³çš„16è¿›åˆ¶è¡¨ç¤ºï¼Œä½æ•°ä¸è¶³å¡«å……"),a("code",[t._v("0")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("ç¬¬13-16ä½ä¸ºå½“å‰è¿›ç¨‹PIDçš„16è¿›åˆ¶è¡¨ç¤ºï¼Œä½æ•°ä¸è¶³å¡«å……"),a("code",[t._v("0")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("ç¬¬16-24ä½ä¸ºéšæœºæ•°ï¼Œä½æ•°ä¸è¶³å¡«å……"),a("code",[t._v("0")]),t._v("ã€‚")])]),t._v(" "),a("p",[a("strong",[t._v("ClusterCore")]),t._v("æ¯æ¬¡ç”Ÿæˆ"),a("code",[t._v("traceId")]),t._v("æ—¶ï¼Œå°†ä¸å½“å‰è¿›ç¨‹ä¸­å·²æ³¨å†Œçš„"),a("code",[t._v("traceId")]),t._v("è¿›è¡Œå†²çªæ£€éªŒï¼Œä»¥ä¿è¯å…¶è¿›ç¨‹çº§åˆ«çš„å”¯ä¸€æ€§ã€‚")]),t._v(" "),a("h4",{attrs:{id:"åº”ç­”traceipc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åº”ç­”traceipc"}},[t._v("#")]),t._v(" åº”ç­”TraceIPC")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("åº”ç­”"),a("strong",[t._v("TraceIPC")]),t._v("æ—¶éœ€è¦è¿›è¡Œä¸¤ä¸ªæ­¥éª¤ï¼š")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("æ‰§è¡Œ"),a("code",[t._v("getTraceDetail()")]),t._v("å–å¾—æ¶ˆæ¯çš„é“¾è·¯è¿½è¸ªä¿¡æ¯ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("ä½¿ç”¨é“¾è·¯è¿½è¸ªä¿¡æ¯ä¸­æä¾›çš„"),a("code",[t._v("resTrace()")]),t._v("å‘å‘é€åº”ç­”æ¶ˆæ¯ã€‚")])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("å¤„ç†è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯æ—¶ï¼Œä½¿ç”¨æ¶ˆæ¯çš„"),a("strong",[t._v("è§¦å‘åŠ¨ä½œ")]),t._v("åˆ¤æ–­æ˜¯å¦éœ€è¦å‘"),a("strong",[t._v("å‘é€æ–¹")]),t._v("å‘é€åº”ç­”æ¶ˆæ¯ã€‚")]),t._v(" "),a("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåº”ç­”"),a("strong",[t._v("TraceIPC")]),t._v("æ—¶ä»…å…è®¸åº”ç­”ä¸€æ¬¡ï¼Œé“¾è·¯è¿½è¸ªä¿¡æ¯ä¸­çš„"),a("code",[t._v("responsive")]),t._v("è¡¨ç¤ºæ˜¯å¦å…è®¸è¿›è¡Œåº”ç­”ã€‚")])]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä½¿ç”¨"),a("strong",[t._v("TraceIPC")]),t._v("çš„ğŸŒ°ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Core "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-corejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * è¿›ç¨‹åˆå§‹åŒ–å®Œæˆ\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Masterè¿›ç¨‹ - åˆ›å»ºä¸¤ä¸ªWorkerè¿›ç¨‹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Workerè¿›ç¨‹ - åœ¨ä¸¤ä¸ªWorkerè¿›ç¨‹é—´è¿›è¡Œé€šä¿¡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAllProcessIds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" processIds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" processIds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" toProcessId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processIds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fromProcessId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processIds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‘èµ·TraceIPC")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" fromProcessId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendDataWithTraceCallBack")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("toProcessId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®æ¶ˆæ¯çš„è§¦å‘åŠ¨ä½œ")]),t._v("\n          action"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TEST_TRACE_IPC_ACTION'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®æ¶ˆæ¯çš„é™„å±æ•°æ®")]),t._v("\n          payload"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¿™æ˜¯ä¸€ä¸ªğŸŒ°'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("TraceIPCæ”¶åˆ°äº†åº”ç­”æ¶ˆæ¯:[")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨next()åˆ†å‘åº”ç­”æ¶ˆæ¯è¿›å…¥AppMainä¸­çš„ç¡®è®¤å¤„ç†")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * è¿›ç¨‹ç¡®è®¤å¤„ç†è‡ªå®šä¹‰é€šä¿¡æ¶ˆæ¯\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidReceiveMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fromProcessId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("è¿›ç¨‹[")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("]å¤„ç†æ¥è‡ªè¿›ç¨‹[")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("fromProcessId"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("]çš„æ¶ˆæ¯:[")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payload "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨actionåˆ¤æ–­æ˜¯å¦éœ€è¦åº”ç­”")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TEST_TRACE_IPC_ACTION'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–é“¾è·¯è¿½è¸ªä¿¡æ¯")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" responsive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resTrace "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTraceDetail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‘é€åº”ç­”æ¶ˆæ¯")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" resData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        action"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TEST_TRACE_IPC_RES_ACTION'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        payload"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ğŸŒ°'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      responsive "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨AppMainåˆå§‹åŒ–ClusterCoreå¹¶å¯åŠ¨")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br")])]),a("h3",{attrs:{id:"æ¶ˆæ¯å¤„ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯å¤„ç†"}},[t._v("#")]),t._v(" æ¶ˆæ¯å¤„ç†")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),a("p",[t._v("æœ¬ç« ä¸­ä½¿ç”¨çš„å®å˜é‡å­˜å‚¨åœ¨"),a("code",[t._v("Core.Macros")]),t._v("ä¸­ã€‚")])]),t._v(" "),a("p",[t._v("åœ¨æ”¶åˆ°è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯æ—¶ï¼Œ"),a("strong",[t._v("ClusterCore")]),t._v("å°†æ ¹æ®è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯è‡ªå®šä¹‰æ•°æ®ä¸­çš„"),a("code",[t._v("action")]),t._v("å¯¹"),a("strong",[t._v("å†…éƒ¨é€šä¿¡æ¶ˆæ¯")]),t._v("å’Œ"),a("strong",[t._v("è‡ªå®šä¹‰é€šä¿¡æ¶ˆæ¯")]),t._v("è¿›è¡Œé¢„åˆ†ç±»ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("å¯¹äº"),a("strong",[t._v("è‡ªå®šä¹‰é€šä¿¡æ¶ˆæ¯")]),t._v("ï¼Œå°†ç›´æ¥è¿›å…¥"),a("strong",[t._v("AppMain")]),t._v("ä¸­è¿›è¡Œæ¶ˆæ¯å¤„ç†ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("å¯¹äº"),a("strong",[t._v("å†…éƒ¨é€šä¿¡æ¶ˆæ¯")]),t._v("ï¼Œå°†ä»…æ‰§è¡Œå†…éƒ¨å¤„ç†ï¼Œä¸å†è¿›å…¥"),a("strong",[t._v("AppMain")]),t._v("ä¸­çš„æ¶ˆæ¯å¤„ç†æµç¨‹ã€‚")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯è‡ªå®šä¹‰æ•°æ®ä¸­çš„"),a("code",[t._v("action")]),t._v("æŒ‡å®šä¸ºä»¥ä¸‹å®å˜é‡æ—¶ï¼Œå°†è¢«"),a("strong",[t._v("ClusterCore")]),t._v("è®¤ä¸ºæ˜¯"),a("strong",[t._v("å†…éƒ¨é€šä¿¡æ¶ˆæ¯")]),t._v("ï¼Œæ­¤ç±»æ¶ˆæ¯ä¸ä¼šè¿›å…¥"),a("strong",[t._v("AppMain")]),t._v("ä¸­çš„æ¶ˆæ¯å¤„ç†æµç¨‹ï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("å®å˜é‡")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_WORKER_TO_MASTER_ACTION_REQ_GET_INITIAL_INFO")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Workerè¿›ç¨‹å‘Masterè¿›ç¨‹å‘èµ·è·å–åˆå§‹åŒ–ä¿¡æ¯")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_MASTER_TO_WORKER_ACTION_RES_GET_INITIAL_INFO")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Masterè¿›ç¨‹å‘Workerè¿›ç¨‹åº”ç­”åˆå§‹åŒ–ä¿¡æ¯")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_WORKER_TO_MASTER_ACTION_REQ_SET_GLOBAL_OBJECT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Workerè¿›ç¨‹å‘Masterè¿›ç¨‹å‘èµ·è®¾ç½®å…¨å±€å¯¹è±¡")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_MASTER_TO_WORKER_ACTION_RES_SET_GLOBAL_OBJECT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Masterè¿›ç¨‹å‘Workerè¿›ç¨‹åº”ç­”è®¾ç½®å…¨å±€å¯¹è±¡æ‰§è¡Œç»“æœ")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_WORKER_TO_MASTER_ACTION_REQ_GET_GLOBAL_OBJECT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Workerè¿›ç¨‹å‘Masterè¿›ç¨‹å‘èµ·è·å–å…¨å±€å¯¹è±¡")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_MASTER_TO_WORKER_ACTION_RES_GET_GLOBAL_OBJECT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Masterè¿›ç¨‹å‘Workerè¿›ç¨‹åº”ç­”è·å–å…¨å±€å¯¹è±¡æ‰§è¡Œç»“æœ")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_WORKER_TO_MASTER_ACTION_REQ_REMOVE_GLOBAL_OBJECT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Workerè¿›ç¨‹å‘Masterè¿›ç¨‹å‘èµ·åˆ é™¤å…¨å±€å¯¹è±¡")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_MASTER_TO_WORKER_ACTION_RES_REMOVE_GLOBAL_OBJECT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Masterè¿›ç¨‹å‘Workerè¿›ç¨‹åº”ç­”åˆ é™¤å…¨å±€å¯¹è±¡æ‰§è¡Œç»“æœ")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_WORKER_TO_MASTER_ACTION_REQ_GET_ALL_PROCESS_IDS")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Workerè¿›ç¨‹å‘Masterè¿›ç¨‹å‘èµ·è·å–è¿›ç¨‹ç»„å†…çš„æ‰€æœ‰è¿›ç¨‹ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_MASTER_TO_WORKER_ACTION_RES_GET_ALL_PROCESS_IDS")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Masterè¿›ç¨‹å‘Workerè¿›ç¨‹åº”ç­”è¿›ç¨‹ç»„å†…æ‰€æœ‰è¿›ç¨‹ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_WORKER_TO_MASTER_ACTION_REQ_QUERY_GLOBAL_OBJECT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Workerè¿›ç¨‹å‘Masterè¿›ç¨‹å‘èµ·è‡ªå®šä¹‰è¯»å–å…¨å±€å¯¹è±¡")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_MASTER_TO_WORKER_ACTION_RES_QUERY_GLOBAL_OBJECT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Masterè¿›ç¨‹å‘Workerè¿›ç¨‹åº”ç­”è‡ªå®šä¹‰è¯»å–å…¨å±€å¯¹è±¡æ‰§è¡Œç»“æœ")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_WORKER_TO_MASTER_ACTION_REQ_UPDATE_GLOBAL_OBJECT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Workerè¿›ç¨‹å‘Masterè¿›ç¨‹å‘èµ·è‡ªå®šä¹‰æ›´æ–°å…¨å±€å¯¹è±¡")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_MASTER_TO_WORKER_ACTION_RES_UPDATE_GLOBAL_OBJECT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Masterè¿›ç¨‹å‘Workerè¿›ç¨‹åº”ç­”è‡ªå®šä¹‰æ›´æ–°å…¨å±€å¯¹è±¡æ‰§è¡Œç»“æœ")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_MASTER_TO_WORKER_ACTION_RES_TRANSIT_RESULT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Masterè¿›ç¨‹å‘Workerè¿›ç¨‹åº”ç­”é€šä¿¡æ¶ˆæ¯è½¬å‘ç»“æœ")])])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥é‡å†™"),a("strong",[t._v("AppMain")]),t._v("ä¸­æ¶ˆæ¯å¤„ç†ç›¸å…³çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä»¥å®šåˆ¶è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯çš„å¤„ç†æµç¨‹ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("åœ¨æ¶ˆæ¯å¤„ç†çš„ç›¸å…³ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­ï¼Œä»…å¸¦å…¥è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯çš„è‡ªå®šä¹‰æ•°æ®éƒ¨åˆ†ï¼Œå³"),a("code",[t._v("data")]),t._v("ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("data.getOriginData()")]),t._v("ï¼šè¯»å–å®Œæ•´çš„"),a("a",{attrs:{href:"#%E6%B6%88%E6%81%AF%E7%BB%93%E6%9E%84"}},[t._v("æ¶ˆæ¯ç»“æ„")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("data.getTraceDetail()")]),t._v("ï¼šè¯»å–æ¶ˆæ¯çš„é“¾è·¯è¿½è¸ªä¿¡æ¯ï¼Œå³æˆ‘ä»¬åœ¨"),a("a",{attrs:{href:"#%E6%B6%88%E6%81%AF%E7%BB%93%E6%9E%84"}},[t._v("æ¶ˆæ¯ç»“æ„")]),t._v("ä¸­æåˆ°çš„"),a("code",[t._v("{ traceId, responsive, resTrace }")]),t._v("ã€‚")])])]),t._v(" "),a("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¶ˆæ¯å¤„ç†æµç¨‹åœ¨å®ç°ç»†èŠ‚ä¸Šä½¿ç”¨ä¸­é—´ä»¶æ¨¡å¼ï¼Œä»»ä½•å¯¹"),a("code",[t._v("data")]),t._v("æˆ–"),a("code",[t._v("originData")]),t._v("çš„ä¿®æ”¹å°†è¢«ä¿ç•™å¹¶åˆ†å‘è‡³åç»­çš„å¤„ç†æµç¨‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ä¸šåŠ¡å±‚åº”å°½é‡é¿å…ä¿®æ”¹æºæ¶ˆæ¯ã€‚")])]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è®¨è®º"),a("strong",[t._v("AppMain")]),t._v("ä¸­æ¶ˆæ¯å¤„ç†ç›¸å…³çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼š")]),t._v(" "),a("h4",{attrs:{id:"onprocesswillreceivemessage-fromprocessid-data-next"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onprocesswillreceivemessage-fromprocessid-data-next"}},[t._v("#")]),t._v(" "),a("code",[t._v("onProcessWillReceiveMessage(fromProcessId, data, next)")])]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-5"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("fromProcessId")]),t._v("ï¼šæ¶ˆæ¯"),a("strong",[t._v("å‘é€æ–¹")]),t._v("çš„è¿›ç¨‹IDã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("data")]),t._v("ï¼šæ¶ˆæ¯çš„è‡ªå®šä¹‰æ•°æ®ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("next")]),t._v("ï¼šæµç¨‹åˆ†å‘å‡½æ•°ã€‚æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„"),a("a",{attrs:{href:"#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF-5"}},[t._v("ä½¿ç”¨åœºæ™¯")]),t._v("ä¸­ä»‹ç»æµç¨‹åˆ†å‘å‡½æ•°çš„ä½¿ç”¨æ–¹æ³•ã€‚")])])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨åœºæ™¯-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨åœºæ™¯-5"}},[t._v("#")]),t._v(" ä½¿ç”¨åœºæ™¯")]),t._v(" "),a("p",[t._v("å½“å‰è¿›ç¨‹æ¥æ”¶åˆ°"),a("strong",[t._v("è‡ªå®šä¹‰é€šä¿¡æ¶ˆæ¯")]),t._v("æ—¶è§¦å‘æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­å¯¹è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯è¿›è¡Œåˆ†æµï¼Œä½¿ç”¨æµç¨‹æ§åˆ¶å‡½æ•°"),a("code",[t._v("next()")]),t._v("ç¡®è®¤æˆ–èˆå¼ƒæ”¶åˆ°çš„æ¶ˆæ¯ã€‚")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("æ‰§è¡Œ"),a("code",[t._v("next()")]),t._v("ï¼šç¡®è®¤è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯ï¼Œåˆ†å‘æºæ¶ˆæ¯è¿›å…¥"),a("code",[t._v("onProcessDidReceiveMessage()")]),t._v("ã€‚æ˜¯"),a("code",[t._v("onProcessWillReceiveMessage()")]),t._v("çš„é»˜è®¤è¡Œä¸ºã€‚")])]),t._v(" "),a("li",[a("p",[t._v("æ‰§è¡Œ"),a("code",[t._v("next(data)")]),t._v("ï¼šç¡®è®¤è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯ï¼Œå°†"),a("code",[t._v("next()")]),t._v("å¸¦å…¥çš„"),a("code",[t._v("data")]),t._v("è¦†ç›–æºæ¶ˆæ¯çš„è‡ªå®šä¹‰æ•°æ®"),a("code",[t._v("data")]),t._v("ä¸­çš„"),a("code",[t._v("payload")]),t._v("å¹¶"),a("code",[t._v("onProcessDidReceiveMessage()")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("æ‰§è¡Œ"),a("code",[t._v("next(CLUSTER_CORE_MESSAGE_COMMAND_DISCARD)")]),t._v("ï¼šèˆå¼ƒè¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯ï¼Œåˆ†å‘æºæ¶ˆæ¯è¿›å…¥"),a("code",[t._v("onProcessDidDiscardMessage()")]),t._v("ã€‚")])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("å’Œ"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("æ”¶åˆ°"),a("strong",[t._v("è‡ªå®šä¹‰é€šä¿¡æ¶ˆæ¯")]),t._v("æ—¶éƒ½å°†è§¦å‘"),a("strong",[t._v("AppMain")]),t._v("ä¸­çš„"),a("code",[t._v("onProcessWillReceiveMessage()")]),t._v("ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šå¸¸æ ¹æ®æ¶ˆæ¯çš„"),a("code",[t._v("action")]),t._v("å®ç°åˆ†æµé€»è¾‘ï¼Œæ— éœ€å…³æ³¨å½“å‰è¿è¡Œè¿›ç¨‹ç¯å¢ƒã€‚")])]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"onprocessdidreceivemessage-fromprocessid-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onprocessdidreceivemessage-fromprocessid-data"}},[t._v("#")]),t._v(" "),a("code",[t._v("onProcessDidReceiveMessage(fromProcessId, data)")])]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-6"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("fromProcessId")]),t._v("ï¼šæ¶ˆæ¯"),a("strong",[t._v("å‘é€æ–¹")]),t._v("çš„è¿›ç¨‹IDã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("data")]),t._v("ï¼šæ¶ˆæ¯çš„è‡ªå®šä¹‰æ•°æ®ã€‚")])])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨åœºæ™¯-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨åœºæ™¯-6"}},[t._v("#")]),t._v(" ä½¿ç”¨åœºæ™¯")]),t._v(" "),a("p",[t._v("æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æœ‰ä¸¤ç§è§¦å‘æ–¹å¼ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å½“å‰è¿›ç¨‹ä¸­æ”¶åˆ°çš„"),a("strong",[t._v("è‡ªå®šä¹‰é€šä¿¡æ¶ˆæ¯")]),t._v("åœ¨åˆ†æµé˜¶æ®µè¢«ç¡®è®¤ã€‚")]),t._v(" "),a("li",[t._v("å½“å‰è¿›ç¨‹ä¸­æ”¶åˆ°çš„"),a("strong",[t._v("TraceIPC")]),t._v("åº”ç­”æ¶ˆæ¯è§¦å‘çš„"),a("code",[t._v("traceCallBack()")]),t._v("ä¸­æ‰§è¡Œäº†"),a("code",[t._v("next()")]),t._v("ã€‚")])]),t._v(" "),a("p",[t._v("é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­æ ¹æ®æ¶ˆæ¯çš„"),a("code",[t._v("action")]),t._v("å®ç°æ¶ˆæ¯è§¦å‘çš„å®é™…ä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚ï¼š"),a("a",{attrs:{href:"#%E5%BA%94%E7%AD%94traceipc"}},[t._v("åº”ç­”TraceIPC")]),t._v("ç­‰ã€‚")]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"onprocessdiddiscardmessage-fromprocessid-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onprocessdiddiscardmessage-fromprocessid-data"}},[t._v("#")]),t._v(" "),a("code",[t._v("onProcessDidDiscardMessage(fromProcessId, data)")])]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-7"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("fromProcessId")]),t._v("ï¼šæ¶ˆæ¯"),a("strong",[t._v("å‘é€æ–¹")]),t._v("çš„è¿›ç¨‹IDã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("data")]),t._v("ï¼šæ¶ˆæ¯çš„è‡ªå®šä¹‰æ•°æ®ã€‚")])])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨åœºæ™¯-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨åœºæ™¯-7"}},[t._v("#")]),t._v(" ä½¿ç”¨åœºæ™¯")]),t._v(" "),a("p",[t._v("æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æœ‰ä¸¤ç§è§¦å‘æ–¹å¼ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å½“å‰è¿›ç¨‹ä¸­æ”¶åˆ°çš„"),a("strong",[t._v("è‡ªå®šä¹‰é€šä¿¡æ¶ˆæ¯")]),t._v("åœ¨åˆ†æµé˜¶æ®µè¢«èˆå¼ƒã€‚")]),t._v(" "),a("li",[t._v("å½“å‰è¿›ç¨‹ä¸­åœ¨"),a("strong",[t._v("TraceIPC")]),t._v("è¶…æ—¶åæ”¶åˆ°äº†åº”ç­”æ¶ˆæ¯ã€‚")])]),t._v(" "),a("p",[t._v("é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­å¯¹è¢«èˆå¼ƒçš„è¿›ç¨‹é—´é€šä¿¡æ¶ˆæ¯è¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚")]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"onprocesstracemessagetimeout-toprocessid-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onprocesstracemessagetimeout-toprocessid-data"}},[t._v("#")]),t._v(" "),a("code",[t._v("onProcessTraceMessageTimeout(toProcessId, data)")])]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-8"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("fromProcessId")]),t._v("ï¼šè¶…æ—¶çš„"),a("strong",[t._v("TraceIPC")]),t._v("æ¶ˆæ¯"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("çš„è¿›ç¨‹IDã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("data")]),t._v("ï¼šæ¶ˆæ¯çš„è‡ªå®šä¹‰æ•°æ®ã€‚")])])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨åœºæ™¯-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨åœºæ™¯-8"}},[t._v("#")]),t._v(" ä½¿ç”¨åœºæ™¯")]),t._v(" "),a("p",[t._v("å½“å‰è¿›ç¨‹å‘èµ·"),a("strong",[t._v("TraceIPC")]),t._v("ä¸”åœ¨æŒ‡å®šæ—¶é—´å†…æœªæ”¶åˆ°"),a("strong",[t._v("æ¥æ”¶æ–¹")]),t._v("åº”ç­”æ—¶è§¦å‘æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å¯¹è¶…æ—¶çš„"),a("strong",[t._v("TraceIPC")]),t._v("æ¶ˆæ¯è¿›è¡Œç»Ÿä¸€å¤„ç†ï¼Œæ¯”å¦‚ï¼šé‡æ–°å°è¯•å‘èµ·"),a("strong",[t._v("TraceIPC")]),t._v("ç­‰ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å…¨å±€å¯¹è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¨å±€å¯¹è±¡"}},[t._v("#")]),t._v(" å…¨å±€å¯¹è±¡")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œåœ¨å¤šè¿›ç¨‹æ¶æ„çš„åº”ç”¨ç¨‹åºä¸­ï¼Œä¸åŒçš„è¿›ç¨‹æ‹¥æœ‰å®Œå…¨ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹å†…çš„çŠ¶æ€å®Œå…¨éš”ç¦»ã€‚å› æ­¤ï¼ŒCorejsæä¾›äº†åœ¨è¿›ç¨‹ç»„ä¸­å…±äº«çŠ¶æ€çš„èƒ½åŠ›ï¼Œå³ï¼š"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä»…é™äºåœ¨å•ä¸ªåº”ç”¨ç¨‹åºä¸­çš„å¤šä¸ªè¿›ç¨‹ä¹‹é—´å…±äº«æ•°æ®ï¼Œæ— æ³•å–ä»£åˆ†å¸ƒå¼åè°ƒå·¥å…·ï¼Œæ¯”å¦‚ï¼š"),a("code",[t._v("ZooKeeper")]),t._v("ã€"),a("code",[t._v("Redis")]),t._v("ç­‰ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"apiè®¾è®¡-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apiè®¾è®¡-2"}},[t._v("#")]),t._v(" APIè®¾è®¡")]),t._v(" "),a("p",[t._v("åœ¨å®ç°ç»†èŠ‚ä¸Šï¼Œ"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("æ˜¯ä¸€ä¸ªå­˜å‚¨åœ¨"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("ä¸­çš„"),a("code",[t._v("Object")]),t._v("ï¼Œ"),a("strong",[t._v("Workerè¿›ç¨‹")]),t._v("é€šè¿‡"),a("a",{attrs:{href:"#%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1"}},[t._v("è¿›ç¨‹é—´é€šä¿¡")]),t._v("å‘"),a("strong",[t._v("Masterè¿›ç¨‹")]),t._v("å‘èµ·è¯»å†™æŒ‡ä»¤ä»¥å®ç°å¯¹"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„è®¿é—®ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("å› æ­¤ï¼Œ"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä¸­å€¼çš„ç±»å‹å—åˆ¶äºè¿›ç¨‹é—´é€šä¿¡æ—¶nodejsè‡ªåŠ¨æ‰§è¡Œåºåˆ—åŒ–çš„å½±å“ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºé¿å…åºåˆ—åŒ–é€ æˆçš„é—®é¢˜ï¼Œæˆ‘ä»¬è®¾ç½®å…¨å±€å¯¹è±¡æ—¶åŒæ ·åº”ä½¿ç”¨åŸºæœ¬ç±»å‹æ„æˆçš„"),a("code",[t._v("field")]),t._v("ï¼Œå³ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("Array")])]),t._v(" "),a("li",[a("code",[t._v("Object")])]),t._v(" "),a("li",[a("code",[t._v("Number")])]),t._v(" "),a("li",[a("code",[t._v("String")])]),t._v(" "),a("li",[a("code",[t._v("Boolean")])])])]),t._v(" "),a("p",[a("strong",[t._v("ClusterCore")]),t._v("æä¾›äº†å¯¹"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("è¿›è¡Œç®€å•è¯»å†™æ“ä½œçš„APIï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"#getglobalobject-keypath-callback"}},[a("code",[t._v("getGlobalObject([keyPath], callBack)")])]),t._v("ï¼šè¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä¸­æŒ‡å®šé”®åæˆ–é”®è·¯å¾„å¯¹åº”çš„å€¼ã€‚")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#setglobalobject-keypath-value-callback"}},[a("code",[t._v("setGlobalObject(keyPath[, value][, callBack])")])]),t._v("ï¼šè®¾ç½®/æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä¸­æŒ‡å®šé”®åæˆ–é”®è·¯å¾„æŒ‡å‘çš„"),a("code",[t._v("field")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#removeglobalobject-keypath-callback"}},[a("code",[t._v("removeGlobalObject(keyPath[, callBack])")])]),t._v("ï¼šç§»é™¤"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä¸­æŒ‡å®šé”®åæˆ–é”®è·¯å¾„æŒ‡å‘çš„"),a("code",[t._v("field")]),t._v("ã€‚")])])]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"getglobalobject-keypath-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getglobalobject-keypath-callback"}},[t._v("#")]),t._v(" "),a("code",[t._v("getGlobalObject([keyPath], callBack)")])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨è¯´æ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨è¯´æ˜"}},[t._v("#")]),t._v(" ä½¿ç”¨è¯´æ˜")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),a("code",[t._v("getGlobalObject()")]),t._v("è¯»å–æ•´ä¸ª"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ï¼Œæˆ–è¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä¸­æŒ‡å®šé”®å/é”®è·¯å¾„å¯¹åº”çš„å€¼ã€‚")]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-9"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("keyPath")]),t._v("ï¼šæœŸæœ›è¯»å–çš„é”®åæˆ–é”®è·¯å¾„ï¼Œéå¿…å¡«é¡¹ã€‚æŒ‡å®šé”®è·¯å¾„æ—¶ï¼Œä½¿ç”¨é”®åé“¾è·¯å­—ç¬¦ä¸²æ„æˆçš„"),a("code",[t._v("Array")]),t._v("å³å¯ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("å½“æ­¤é¡¹æœªæŒ‡å®šæˆ–æŒ‡å®šä¸º"),a("code",[t._v("null")]),t._v("ã€"),a("code",[t._v("undefined")]),t._v("ã€"),a("code",[t._v("NaN")]),t._v("ã€"),a("code",[t._v("''")]),t._v("ã€"),a("code",[t._v("[]")]),t._v("ã€"),a("code",[t._v("{}")]),t._v("æ—¶å°†è¯»å–æ•´ä¸ª"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ã€‚")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("å°è¯•è¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("æ—¶ï¼Œå¦‚æœé”®è·¯å¾„ä¸­å­˜åœ¨é”®åæŒ‡å‘çš„"),a("code",[t._v("field")]),t._v("ä¸å­˜åœ¨æˆ–æŒ‡å‘çš„å€¼ä¸ä¸ºå¼•ç”¨ç±»å‹ï¼Œåˆ™å°†åœ¨"),a("code",[t._v("callBack")]),t._v("ä¸­å¾—åˆ°ä¸€ä¸ªå¼‚å¸¸ã€‚")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("callBack")]),t._v("ï¼šè¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„æ‰§è¡Œç»“æœï¼Œå¿…å¡«é¡¹ï¼Œæ˜¯ä¸€ä¸ªcpsé£æ ¼çš„"),a("code",[t._v("Function")]),t._v("ã€‚å…¶å‚æ•°åˆ—è¡¨ä¸º"),a("code",[t._v("(error, value)")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("error")]),t._v("ï¼šè¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("å¤±è´¥çš„åŸå› ï¼Œä¸º"),a("code",[t._v("null")]),t._v("æ—¶è¡¨ç¤ºè¯»å–åŠ¨ä½œæ‰§è¡ŒæˆåŠŸã€‚")]),t._v(" "),a("li",[a("code",[t._v("value")]),t._v("ï¼šåœ¨"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä¸­è¯»å–åˆ°çš„å€¼ï¼Œå½“æ“ä½œæ‰§è¡Œå¤±è´¥æ—¶ä¸º"),a("code",[t._v("undefined")]),t._v("ã€‚\n"),a("blockquote",[a("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹å€¼ä¸ºå¼•ç”¨ç±»å‹çš„"),a("code",[t._v("field")]),t._v("ä¸­ä¸å­˜åœ¨çš„é”®åè¿›è¡Œå–å€¼æ—¶ä¹Ÿå°†å¾—åˆ°"),a("code",[t._v("undefined")]),t._v("ã€‚")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),a("p",[t._v("åœ¨æ‰§è¡Œ"),a("code",[t._v("getGlobalObject()")]),t._v("æ—¶ï¼Œå³ä½¿æ²¡æœ‰æŒ‡å®š"),a("code",[t._v("callBack")]),t._v("ä¹Ÿä¸ä¼šäº§ç”Ÿé˜»å¡æ€§å¼‚å¸¸ã€‚")]),t._v(" "),a("p",[t._v("å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œåœ¨æ£€æµ‹åˆ°æ²¡æœ‰æŒ‡å®š"),a("code",[t._v("calllBack")]),t._v("æ—¶å°†ç›´æ¥é€€å‡ºï¼Œä¸å†è§¦å‘å®é™…è¯»å–é€»è¾‘ã€‚")])])])]),t._v(" "),a("hr"),t._v(" "),a("h4",{attrs:{id:"setglobalobject-keypath-value-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setglobalobject-keypath-value-callback"}},[t._v("#")]),t._v(" "),a("code",[t._v("setGlobalObject(keyPath[, value][, callBack])")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("æœ¬èŠ‚ä¸­ä½¿ç”¨çš„å®å˜é‡å­˜å‚¨åœ¨"),a("code",[t._v("Core.Macros")]),t._v("ä¸­ã€‚")])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨è¯´æ˜-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨è¯´æ˜-2"}},[t._v("#")]),t._v(" ä½¿ç”¨è¯´æ˜")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),a("code",[t._v("setGlobalObject()")]),t._v("è®¾ç½®æˆ–æ›´æ–°æŒ‡å®šé”®åæˆ–é”®è·¯å¾„æŒ‡å‘çš„"),a("code",[t._v("field")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆ"),a("a",{attrs:{href:"#%E6%95%B0%E7%BB%84%E6%8C%87%E4%BB%A4"}},[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v("å¿«é€Ÿå¯¹"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä¸­çš„"),a("code",[t._v("Array")]),t._v("è¿›è¡Œæ“ä½œã€‚")]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-10"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("keyPath")]),t._v("ï¼šæœŸæœ›è®¾ç½®æˆ–æ›´æ–°çš„é”®åæˆ–é”®è·¯å¾„ï¼Œå¿…å¡«é¡¹ã€‚æŒ‡å®šé”®è·¯å¾„æ—¶ï¼Œä½¿ç”¨é”®åé“¾è·¯å­—ç¬¦ä¸²æ„æˆçš„"),a("code",[t._v("Array")]),t._v("å³å¯ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),a("p",[a("code",[t._v("setGlobalObject()")]),t._v("ä¸å…è®¸å¯¹"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("è¿›è¡Œä¸å®‰å…¨çš„å†™å…¥ï¼Œåœ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œæ—¶å°†åœ¨"),a("code",[t._v("callBack")]),t._v("ä¸­å¾—åˆ°ä¸€ä¸ªå¼‚å¸¸ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å°è¯•åœ¨ä¸å­˜åœ¨çš„"),a("code",[t._v("field")]),t._v("ä¸­åˆ›å»ºæ–°"),a("code",[t._v("field")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("å°è¯•åœ¨å€¼ä¸ºéå¼•ç”¨ç±»å‹çš„"),a("code",[t._v("field")]),t._v("ä¸­åˆ›å»ºæ–°"),a("code",[t._v("field")]),t._v("ã€‚")])])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("value")]),t._v("ï¼šæœŸæœ›è®¾ç½®/æ›´æ–°çš„é”®å€¼æˆ–"),a("a",{attrs:{href:"#%E6%95%B0%E7%BB%84%E6%8C%87%E4%BB%A4"}},[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v("çš„å‚æ•°ï¼Œéå¿…å¡«é¡¹ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),a("p",[t._v("åœ¨æ‰§è¡Œ"),a("code",[t._v("setGlobalObject()")]),t._v("æ—¶ï¼Œå°†æ ¹æ®ä¸šåŠ¡å±‚å®é™…ä½¿ç”¨çš„å‚æ•°åˆ—è¡¨åŠ¨æ€ç”Ÿæˆä¸€ä¸ªå‚æ•°"),a("code",[t._v("Array")]),t._v("ä»¥ä½œä¸º"),a("code",[t._v("value")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å½“å‚æ•°åˆ—è¡¨ä¸­æœ€åä¸€ä¸ªå‚æ•°ä¸º"),a("code",[t._v("Function")]),t._v("æ—¶ï¼Œä½¿ç”¨ä¸šåŠ¡å±‚å®é™…ä½¿ç”¨çš„å‚æ•°åˆ—è¡¨ä¸­ä»ç¬¬äºŒä¸ªå‚æ•°è‡³å€’æ•°ç¬¬äºŒä¸ªå‚æ•°ä½œä¸º"),a("code",[t._v("value")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("å½“å‚æ•°åˆ—è¡¨ä¸­æœ€åä¸€ä¸ªå‚æ•°ä¸ºé"),a("code",[t._v("Function")]),t._v("æ—¶ï¼Œä½¿ç”¨å‚æ•°åˆ—è¡¨ä¸­ç¬¬äºŒä¸ªå‚æ•°è‡³å€’æ•°ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸º"),a("code",[t._v("value")]),t._v("ã€‚")])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œ"),a("code",[t._v("value")]),t._v("æ˜¯ä¸€ä¸ª"),a("code",[t._v("Array")]),t._v("ï¼Œå¯¹äº"),a("code",[t._v("value")]),t._v("çš„åº”ç”¨äº"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„æ•ˆæœï¼š")]),t._v(" "),a("ul",[a("li",[t._v("åœ¨æŒ‡å®šçš„"),a("code",[t._v("keyPath")]),t._v("ä¸­ä¸åŒ…å«"),a("a",{attrs:{href:"#%E6%95%B0%E7%BB%84%E6%8C%87%E4%BB%A4"}},[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v("æ—¶ï¼Œå°†"),a("code",[t._v("value.pop()")]),t._v("çš„å€¼è®¾ç½®è‡³æŒ‡å®šçš„"),a("code",[t._v("keyPath")]),t._v("ä¸­ã€‚")]),t._v(" "),a("li",[t._v("åœ¨æŒ‡å®šçš„"),a("code",[t._v("keyPath")]),t._v("ä¸­ä½¿ç”¨äº†"),a("a",{attrs:{href:"#%E6%95%B0%E7%BB%84%E6%8C%87%E4%BB%A4"}},[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v("æ—¶ï¼Œå°†"),a("code",[t._v("...value")]),t._v("ä½œä¸º"),a("strong",[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v("çš„æ‰§è¡Œå‚æ•°åº”ç”¨è‡³æŒ‡å®šçš„"),a("code",[t._v("keyPath")]),t._v("ä¸­ã€‚")])]),t._v(" "),a("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€äº›æ— éœ€å‚æ•°å³å¯æ‰§è¡Œçš„"),a("strong",[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v("å¯ä»¥ä¸ä¼ å…¥"),a("code",[t._v("value")]),t._v("ï¼Œæ¯”å¦‚ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_POP")])]),t._v(" "),a("li",[a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_SHIFT")])]),t._v(" "),a("li",[a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_REVERSE")])])])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("callBack")]),t._v("ï¼šè®¾ç½®æˆ–æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„æ‰§è¡Œç»“æœï¼Œéå¿…å¡«é¡¹ï¼Œæ˜¯ä¸€ä¸ªcpsé£æ ¼çš„"),a("code",[t._v("Function")]),t._v("ã€‚å…¶å‚æ•°åˆ—è¡¨ä¸º"),a("code",[t._v("(error, detail)")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("error")]),t._v("ï¼šè®¾ç½®æˆ–æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("å¤±è´¥çš„åŸå› ï¼Œä¸º"),a("code",[t._v("null")]),t._v("æ—¶è¡¨ç¤ºæ“ä½œæ‰§è¡ŒæˆåŠŸã€‚")]),t._v(" "),a("li",[a("code",[t._v("detail")]),t._v("ï¼šè®¾ç½®æˆ–æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„æ“ä½œè¯¦æƒ…ï¼Œå…¶ç»“æ„ä¸º"),a("code",[t._v("{ globalObject, commandResult }")]),t._v("ã€‚")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),a("p",[t._v("å¯¹äºè®¾ç½®æˆ–æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„æ“ä½œè¯¦æƒ…ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("globalObject")]),t._v("ï¼šæ‰§è¡Œè®¾ç½®æˆ–æ›´æ–°æ“ä½œåçš„"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ï¼Œå½“è®¾ç½®/æ›´æ–°æ“ä½œæ‰§è¡Œå¤±è´¥æ—¶ä¸º"),a("code",[t._v("undefined")]),t._v("ã€‚")]),t._v(" "),a("li",[a("code",[t._v("commandResult")]),t._v("ï¼š"),a("strong",[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v("çš„æ‰§è¡Œç»“æœï¼Œå½“æ²¡æœ‰ä½¿ç”¨"),a("strong",[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v("æˆ–è®¾ç½®/æ›´æ–°æ“ä½œæ‰§è¡Œå¤±è´¥æ—¶ä¸º"),a("code",[t._v("undefined")]),t._v("ã€‚\n"),a("blockquote",[a("p",[t._v("å¯¹ç©ºæ•°ç»„ä½¿ç”¨"),a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_POP")]),t._v("æŒ‡ä»¤ï¼Œä¹Ÿå°†å¾—åˆ°"),a("code",[t._v("undefined")]),t._v("ã€‚")])])])])])])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨æ ·ä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ ·ä¾‹"}},[t._v("#")]),t._v(" ä½¿ç”¨æ ·ä¾‹")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä½¿ç”¨"),a("code",[t._v("setGlobalObject()")]),t._v("è®¾ç½®"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„ğŸŒ°ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Core "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-corejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * è¿›ç¨‹åˆå§‹åŒ–å®Œæˆ\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸»è¿›ç¨‹ä¸­åˆ›å»ºé”®åä¸ºprocessDetail.Mçš„fieldå­˜å‚¨å…¶è¿›ç¨‹pid")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¦–å…ˆåˆ›å»ºé”®åprocessDetailæŒ‡å‘çš„field")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨åˆ›å»ºé¦–å±‚fieldæˆåŠŸåå†™å…¥ä¸»è¿›ç¨‹çš„pidå¹¶æ´¾ç”Ÿå­è¿›ç¨‹")]),t._v("\n        Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­è¿›ç¨‹ä¸­åˆ›å»ºé”®åä¸ºprocessDetail.[è¿›ç¨‹åç§»]çš„fieldå­˜å‚¨å…¶è¿›ç¨‹pid")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" processOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" processOffset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨AppMainåˆå§‹åŒ–ClusterCoreå¹¶å¯åŠ¨")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br")])]),a("hr"),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥åœ¨"),a("code",[t._v("onProcessDidInit()")]),t._v("ä¸­ä½¿ç”¨"),a("code",[t._v("getGlobalObject()")]),t._v("æ£€æŸ¥è®¾ç½®"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„æˆæœï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŸ¥çœ‹å…¨å±€å¯¹è±¡çš„è®¾ç½®ç»“æœ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fieldName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" keyPath "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fieldName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keyPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("è¿›ç¨‹[")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("fieldName"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("]çš„PID -> ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h4",{attrs:{id:"æ•°ç»„æŒ‡ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°ç»„æŒ‡ä»¤"}},[t._v("#")]),t._v(" æ•°ç»„æŒ‡ä»¤")]),t._v(" "),a("p",[t._v("åœ¨"),a("code",[t._v("setGlobalObject()")]),t._v("æ—¶ï¼Œå¦‚æœæŒ‡å®šçš„"),a("strong",[t._v("é”®è·¯å¾„")]),t._v("å¯¹åº”äº†"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä¸­çš„å€¼ä¸º"),a("code",[t._v("Array")]),t._v("ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨"),a("strong",[t._v("é”®è·¯å¾„")]),t._v("ä¸­è¿½åŠ ä»¥ä¸‹"),a("strong",[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v("ä»¥å¿«æ·å®ç°æ•°ç»„å˜å¼‚æ“ä½œï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("ä½œç”¨")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_POP")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("åˆ é™¤æ•°ç»„å°¾éƒ¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³æ‰§è¡Œ"),a("code",[t._v("pop()")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_PUSH")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("å‘æ•°ç»„å°¾éƒ¨è¿½åŠ æ–°å…ƒç´ ï¼Œå³æ‰§è¡Œ"),a("code",[t._v("push()")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_FILL")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("æ•°ç»„å¡«å……ï¼Œå³æ‰§è¡Œ"),a("code",[t._v("fill()")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_SHIFT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("åˆ é™¤æ•°ç»„å¤´éƒ¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³æ‰§è¡Œ"),a("code",[t._v("shift()")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_SPLICE")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("å¯¹æ•°ç»„æ‰§è¡Œé“°æ¥æ“ä½œï¼Œå³æ‰§è¡Œ"),a("code",[t._v("splice()")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_UNSHIFT")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("å‘æ•°ç»„å¤´éƒ¨æ·»åŠ æ–°å…ƒç´ ï¼Œå³æ‰§è¡Œ"),a("code",[t._v("unshift()")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_REVERSE")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("æ•°ç»„ç¿»è½¬ï¼Œå³æ‰§è¡Œ"),a("code",[t._v("reverse()")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_COPYWITHIN")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("æ•°ç»„å†…éƒ¨æ›¿æ¢ï¼Œå³æ‰§è¡Œ"),a("code",[t._v("copywhthin()")])])])])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨æ ·ä¾‹-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ ·ä¾‹-2"}},[t._v("#")]),t._v(" ä½¿ç”¨æ ·ä¾‹")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªåœ¨"),a("code",[t._v("setGlobalObject()")]),t._v("ä½¿ç”¨"),a("strong",[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v("è®¾ç½®"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„ğŸŒ°ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Core "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-corejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * è¿›ç¨‹åˆå§‹åŒ–å®Œæˆ\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨ä¸»è¿›ç¨‹ä¸­åˆ›å»ºé”®åä¸ºprocessDetailçš„field,å¹¶æ¨å…¥ä¸»è¿›ç¨‹ä¿¡æ¯")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¦–å…ˆåˆ›å»ºé”®åprocessDetailæŒ‡å‘çš„field")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨åˆ›å»ºé¦–å±‚fieldæˆåŠŸåæ¨å…¥ä¸»è¿›ç¨‹ä¿¡æ¯å¹¶æ´¾ç”Ÿå­è¿›ç¨‹")]),t._v("\n        Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Macros"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_PUSH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" processPid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pid "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­è¿›ç¨‹ä¸­å°†å­è¿›ç¨‹ä¿¡æ¯æ¨å…¥processDetailæŒ‡å‘çš„field")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Macros"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_PUSH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" processPid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pid "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨AppMainåˆå§‹åŒ–ClusterCoreå¹¶å¯åŠ¨")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br")])]),a("hr"),t._v(" "),a("p",[t._v("åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨"),a("code",[t._v("onProcessDidInit()")]),t._v("ä¸­ä½¿ç”¨"),a("code",[t._v("getGlobalObject()")]),t._v("æ£€æŸ¥è®¾ç½®"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„æˆæœï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŸ¥çœ‹å…¨å±€å¯¹è±¡çš„è®¾ç½®ç»“æœ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("å½“å‰åº”ç”¨ç¨‹åºä¸­çš„å…¨å±€å¯¹è±¡ä¸º -> ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h4",{attrs:{id:"removeglobalobject-keypath-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#removeglobalobject-keypath-callback"}},[t._v("#")]),t._v(" "),a("code",[t._v("removeGlobalObject(keyPath[, callBack])")])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨è¯´æ˜-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨è¯´æ˜-3"}},[t._v("#")]),t._v(" ä½¿ç”¨è¯´æ˜")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),a("code",[t._v("removeGlobalObject()")]),t._v("ç§»é™¤æŒ‡å®šé”®åæˆ–é”®è·¯å¾„æŒ‡å‘çš„"),a("code",[t._v("field")]),t._v("ã€‚")]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-11"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("keyPath")]),t._v("ï¼šæœŸæœ›ç§»é™¤çš„é”®åæˆ–é”®è·¯å¾„ï¼Œå¿…å¡«é¡¹ã€‚æŒ‡å®šé”®è·¯å¾„æ—¶ï¼Œä½¿ç”¨é”®åé“¾è·¯å­—ç¬¦ä¸²æ„æˆçš„"),a("code",[t._v("Array")]),t._v("å³å¯ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),a("p",[a("code",[t._v("removeGlobalObject()")]),t._v("å°†å› æœŸæœ›ç§»é™¤çš„é”®åæˆ–é”®è·¯å¾„å¯¹åº”çš„å€¼ç±»å‹æœ‰ä¸åŒçš„åˆ é™¤è¡Œä¸ºï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å½“é”®åæˆ–é”®è·¯å¾„å¯¹åº”çš„å€¼ä¸º"),a("code",[t._v("Array")]),t._v("æ—¶ï¼Œå¦‚æœæœŸæœ›ç§»é™¤çš„é”®åä¸º"),a("code",[t._v("Number")]),t._v("ï¼Œåˆ™æ‰§è¡Œ"),a("code",[t._v("splice()")]),t._v("ç§»é™¤é”®åå¯¹åº”ä½ç½®çš„å…ƒç´ ã€‚")]),t._v(" "),a("li",[t._v("å…¶ä½™åœºæ™¯ä¸‹ï¼Œåœ¨æœŸæœ›ç§»é™¤çš„é”®åæ‰€å¤„çš„"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œ"),a("code",[t._v("delete")]),t._v("æ“ä½œã€‚")])]),t._v(" "),a("p",[t._v("å¦‚æœé”®è·¯å¾„ä¸­å­˜åœ¨é”®åæŒ‡å‘çš„"),a("code",[t._v("field")]),t._v("ä¸å­˜åœ¨æˆ–æŒ‡å‘çš„å€¼ä¸ä¸ºå¼•ç”¨ç±»å‹ï¼Œåˆ™å°†åœ¨"),a("code",[t._v("callBack")]),t._v("ä¸­å¾—åˆ°ä¸€ä¸ªå¼‚å¸¸ã€‚")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("callBack")]),t._v("ï¼š"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ç§»é™¤æ“ä½œçš„æ‰§è¡Œç»“æœï¼Œéå¿…å¡«é¡¹ï¼Œæ˜¯ä¸€ä¸ªcpsé£æ ¼çš„"),a("code",[t._v("Function")]),t._v("ã€‚å…¶å‚æ•°åˆ—è¡¨ä¸º"),a("code",[t._v("(error, detail)")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("error")]),t._v("ï¼š"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ç§»é™¤æ“ä½œæ‰§è¡Œå¤±è´¥çš„åŸå› ï¼Œä¸º"),a("code",[t._v("null")]),t._v("æ—¶è¡¨ç¤ºæ“ä½œæ‰§è¡ŒæˆåŠŸã€‚")]),t._v(" "),a("li",[a("code",[t._v("globalObject")]),t._v("ï¼šæ‰§è¡Œç§»é™¤æ“ä½œåçš„"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ï¼Œå½“æ“ä½œæ‰§è¡Œå¤±è´¥æ—¶ä¸º"),a("code",[t._v("undefined")]),t._v("ã€‚")])])])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨æ ·ä¾‹-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ ·ä¾‹-3"}},[t._v("#")]),t._v(" ä½¿ç”¨æ ·ä¾‹")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬åŸºäºè®¾ç½®"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„æ ·ä¾‹ï¼Œæ¥ä½¿ç”¨"),a("code",[t._v("removeGlobalObject()")]),t._v("åˆ é™¤"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä¸­æŒ‡å®šçš„"),a("code",[t._v("field")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Core "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-corejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * è¿›ç¨‹åˆå§‹åŒ–å®Œæˆ\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸»è¿›ç¨‹ä¸­åˆ›å»ºé”®åä¸ºprocessDetail.Mçš„fieldå­˜å‚¨å…¶è¿›ç¨‹pid")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¦–å…ˆåˆ›å»ºé”®åprocessDetailæŒ‡å‘çš„field")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨åˆ›å»ºé¦–å±‚fieldæˆåŠŸåå†™å…¥ä¸»è¿›ç¨‹çš„pidå¹¶æ´¾ç”Ÿå­è¿›ç¨‹")]),t._v("\n        Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°è¯•åˆ é™¤å…¨å±€å¯¹è±¡ä¸­çš„field")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç§»é™¤processDetail.MæŒ‡å‘çš„field")]),t._v("\n        Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" globalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("ç§»é™¤processDetail.Måçš„å…¨å±€å¯¹è±¡ -> ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("globalObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç§»é™¤processDetailæŒ‡å‘çš„field")]),t._v("\n        Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" globalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("ç§»é™¤processDetailåçš„å…¨å±€å¯¹è±¡ -> ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("globalObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­è¿›ç¨‹ä¸­åˆ›å»ºé”®åä¸ºprocessDetail.[è¿›ç¨‹åç§»]çš„fieldå­˜å‚¨å…¶è¿›ç¨‹pid")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" processOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" processOffset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨AppMainåˆå§‹åŒ–ClusterCoreå¹¶å¯åŠ¨")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br")])]),a("h3",{attrs:{id:"æ•°æ®ä¸€è‡´æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®ä¸€è‡´æ€§"}},[t._v("#")]),t._v(" æ•°æ®ä¸€è‡´æ€§")]),t._v(" "),a("p",[t._v("åœ¨å¤šè¿›ç¨‹æ¶æ„ä¸‹ï¼Œå¯¹"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„å¹¶å‘æ“ä½œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚ä¸ºä¿è¯æ“ä½œ"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„äº‹åŠ¡æ€§ï¼Œ"),a("strong",[t._v("ClusterCore")]),t._v("æä¾›äº†å¯¹"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("è¿›è¡Œè‡ªå®šä¹‰äº‹åŠ¡æ“ä½œçš„APIï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"#queryglobalobject-context-queryfn-callback"}},[a("code",[t._v("queryGlobalObject([context,] [queryFn,] callBack)")])]),t._v("ï¼šè‡ªå®šä¹‰è¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#updateglobalobject-context-updatefn-callback"}},[a("code",[t._v("updateGlobalObject([context,] updateFn[, callBack])")])]),t._v("ï¼šè‡ªå®šä¹‰æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ã€‚")])])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[a("strong",[t._v("è‡ªå®šä¹‰è¯»å–/æ›´æ–°å…¨å±€å¯¹è±¡çš„APIåœ¨Masterè¿›ç¨‹ä¸­ä½¿ç”¨Sandboxä¸¥æ ¼åŒæ­¥æ‰§è¡Œä»£ç ç‰‡æ®µçš„æ–¹å¼ä»¥ä¿è¯å…¨å±€å¯¹è±¡åœ¨åŒä¸€æ—¶åˆ»ä»…è¢«ä¸€ä¸ªæ“ä½œè®¿é—®ã€‚")])]),t._v(" "),a("p",[t._v("å› æ­¤ï¼Œæ“ä½œè§„åˆ™"),a("code",[t._v("queryFn")]),t._v("å’Œ"),a("code",[t._v("updateFn")]),t._v("ä¸­"),a("strong",[t._v("ä¸å…è®¸æ‰§è¡Œå¼‚æ­¥é€»è¾‘")]),t._v("ä¹Ÿ"),a("strong",[t._v("æ— æ³•è®¿é—®å¤–éƒ¨å˜é‡")]),t._v("ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡"),a("code",[t._v("context")]),t._v("å°†å¤–éƒ¨èµ„æºæ¤å…¥Sandboxã€‚")]),t._v(" "),a("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ"),a("code",[t._v("context")]),t._v("å—åˆ¶äºè¿›ç¨‹é—´é€šä¿¡æ—¶nodejsè‡ªåŠ¨æ‰§è¡Œåºåˆ—åŒ–çš„å½±å“ï¼Œåº”ä½¿ç”¨åŸºæœ¬ç±»å‹æ„æˆï¼Œå³ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("Array")])]),t._v(" "),a("li",[a("code",[t._v("Object")])]),t._v(" "),a("li",[a("code",[t._v("Number")])]),t._v(" "),a("li",[a("code",[t._v("String")])]),t._v(" "),a("li",[a("code",[t._v("Boolean")])])])]),t._v(" "),a("h4",{attrs:{id:"queryglobalobject-context-queryfn-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queryglobalobject-context-queryfn-callback"}},[t._v("#")]),t._v(" "),a("code",[t._v("queryGlobalObject([context,] [queryFn,] callBack)")])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨è¯´æ˜-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨è¯´æ˜-4"}},[t._v("#")]),t._v(" ä½¿ç”¨è¯´æ˜")]),t._v(" "),a("p",[t._v("åœ¨è‡ªå®šä¹‰è¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("queryGlobalObject(callBack)")]),t._v("ï¼šé€‚ç”¨äºç›´æ¥è¯»å–æ•´ä¸ª"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„åœºæ™¯ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("queryGlobalObject(queryFn, callBack)")]),t._v("ï¼šé€‚ç”¨äºä½¿ç”¨ä¸è®¿é—®ä»»ä½•å¤–éƒ¨èµ„æºçš„è‡ªå®šä¹‰è§„åˆ™è¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„åœºæ™¯ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("queryGlobalObject(context, queryFn, callBack)")]),t._v("ï¼šé€‚ç”¨äºä½¿ç”¨ä¾èµ–å¤–éƒ¨èµ„æºçš„è‡ªå®šä¹‰è§„åˆ™è¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„åœºæ™¯ã€‚")])])]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-12"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("context")]),t._v("ï¼šåº”ç”¨äºè¯»å–è§„åˆ™çš„èµ„æºä¸Šä¸‹æ–‡ï¼Œéå¿…å¡«é¡¹ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("queryFn")]),t._v("ï¼š"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„è‡ªå®šä¹‰è¯»å–è§„åˆ™ï¼Œéå¿…å¡«é¡¹ï¼Œæ˜¯ä¸€ä¸ª"),a("code",[t._v("Function")]),t._v("ã€‚å…¶å‚æ•°åˆ—è¡¨ä¸º"),a("code",[t._v("(globalObject, context)")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("globalObject")]),t._v("ï¼šæ‰§è¡Œè¯»å–æ“ä½œæ—¶åº”ç”¨ç¨‹åºä¸­"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„å¿«ç…§ã€‚")]),t._v(" "),a("li",[a("code",[t._v("context")]),t._v("ï¼šå¤–éƒ¨èµ„æºä¸Šä¸‹æ–‡ã€‚å½“æ‰§è¡Œè‡ªå®šä¹‰è¯»å–æ“ä½œæœªæŒ‡å®šèµ„æºä¸Šä¸‹æ–‡æ—¶ï¼Œåˆ™æ­¤å€¼ä¸º"),a("code",[t._v("undefined")]),t._v("ã€‚")])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[a("strong",[t._v("ClusterCore")]),t._v("å°†åœ¨æœªæŒ‡å®šè‡ªå®šä¹‰è¯»å–è§„åˆ™"),a("code",[t._v("queryFn")]),t._v("æ—¶è¿”å›æ•´ä¸ª"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ã€‚å¦å¤–ï¼Œ"),a("code",[t._v("queryFn")]),t._v("ä¸­"),a("strong",[t._v("ä¸å…è®¸æ‰§è¡Œå¼‚æ­¥é€»è¾‘")]),t._v("ä¹Ÿ"),a("strong",[t._v("æ— æ³•è®¿é—®å¤–éƒ¨å˜é‡")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨"),a("code",[t._v("queryFn")]),t._v("ä¸­æ ¹æ®å¤–éƒ¨ä¾èµ–èµ„æº"),a("code",[t._v("context")]),t._v("å¯¹"),a("code",[t._v("globalObject")]),t._v("è¿›è¡Œè§£æå’Œè®¡ç®—ï¼Œå¹¶å°†æœŸæœ›çš„æ•°æ®ç»“æ„ä½¿ç”¨"),a("code",[t._v("return")]),t._v("æŒ‡ä»¤è¿”å›ã€‚")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("callBack")]),t._v("ï¼šè‡ªå®šä¹‰è¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„æ‰§è¡Œç»“æœï¼Œå¿…å¡«é¡¹ï¼Œæ˜¯ä¸€ä¸ªcpsé£æ ¼çš„"),a("code",[t._v("Function")]),t._v("ã€‚å…¶å‚æ•°åˆ—è¡¨ä¸º"),a("code",[t._v("(error, value)")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("error")]),t._v("ï¼šè‡ªå®šä¹‰è¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("å¤±è´¥çš„åŸå› ï¼Œä¸º"),a("code",[t._v("null")]),t._v("æ—¶è¡¨ç¤ºè¯»å–åŠ¨ä½œæ‰§è¡ŒæˆåŠŸã€‚")]),t._v(" "),a("li",[a("code",[t._v("value")]),t._v("ï¼šè‡ªå®šä¹‰è¯»å–è§„åˆ™çš„è¿”å›å€¼ï¼Œå³"),a("code",[t._v("queryFn")]),t._v("ä¸­"),a("code",[t._v("return")]),t._v("çš„ç»“æœï¼Œå½“æ“ä½œæ‰§è¡Œå¤±è´¥æ—¶ä¸º"),a("code",[t._v("undefined")]),t._v("ã€‚")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("è¯´æ˜")]),t._v(" "),a("p",[t._v("åœ¨æ‰§è¡Œ"),a("code",[t._v("queryGlobalObject()")]),t._v("æ—¶ï¼Œå³ä½¿æ²¡æœ‰æŒ‡å®š"),a("code",[t._v("callBack")]),t._v("ä¹Ÿä¸ä¼šäº§ç”Ÿé˜»å¡æ€§å¼‚å¸¸ã€‚")]),t._v(" "),a("p",[t._v("å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œåœ¨æ£€æµ‹åˆ°æ²¡æœ‰æŒ‡å®š"),a("code",[t._v("calllBack")]),t._v("æ—¶å°†ç›´æ¥é€€å‡ºï¼Œä¸å†è§¦å‘å®é™…è¯»å–é€»è¾‘ã€‚")])])])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨æ ·ä¾‹-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ ·ä¾‹-4"}},[t._v("#")]),t._v(" ä½¿ç”¨æ ·ä¾‹")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬åŸºäºä½¿ç”¨"),a("strong",[t._v("æ•°ç»„æŒ‡ä»¤")]),t._v("è®¾ç½®å…¨å±€å¯¹è±¡çš„æ ·ä¾‹ï¼Œæ¥æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨"),a("code",[t._v("queryGlobalObject()")]),t._v("è‡ªå®šä¹‰è¯»å–"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Core "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-corejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * è¿›ç¨‹åˆå§‹åŒ–å®Œæˆ\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨ä¸»è¿›ç¨‹ä¸­åˆ›å»ºé”®åä¸ºprocessDetailçš„field,å¹¶æ¨å…¥ä¸»è¿›ç¨‹ä¿¡æ¯")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¦–å…ˆåˆ›å»ºé”®åprocessDetailæŒ‡å‘çš„field")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨åˆ›å»ºé¦–å±‚fieldæˆåŠŸåæ¨å…¥ä¸»è¿›ç¨‹ä¿¡æ¯å¹¶æ´¾ç”Ÿå­è¿›ç¨‹")]),t._v("\n        Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Macros"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_PUSH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" processPid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pid "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­è¿›ç¨‹ä¸­å°†å­è¿›ç¨‹ä¿¡æ¯æ¨å…¥processDetailæŒ‡å‘çš„field")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'processDetail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Macros"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CLUSTER_CORE_GLOBAL_OBJECT_ARRAY_PUSH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" processPid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pid "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è‡ªå®šä¹‰è¯»å–å…¨å±€å¯¹è±¡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®šä¹‰è¯»å–è§„åˆ™ä¸­ä¾èµ–çš„å¤–éƒ¨å˜é‡ä¸ºèµ„æºä¸Šä¸‹æ–‡")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" context "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" processId "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("queryGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®å¤–éƒ¨èµ„æºä¸Šä¸‹æ–‡")]),t._v("\n        context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®è‡ªå®šä¹‰è¯»å–è§„åˆ™")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("globalObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" processId "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" processDetail "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" globalObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" processDetail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("detail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" detail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤„ç†è¯»å–ç»“æœ")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("å½“å‰è¿›ç¨‹çš„ä¿¡æ¯ -> ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨AppMainåˆå§‹åŒ–ClusterCoreå¹¶å¯åŠ¨")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br")])]),a("h4",{attrs:{id:"updateglobalobject-context-updatefn-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updateglobalobject-context-updatefn-callback"}},[t._v("#")]),t._v(" "),a("code",[t._v("updateGlobalObject([context,] updateFn[, callBack])")])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨è¯´æ˜-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨è¯´æ˜-5"}},[t._v("#")]),t._v(" ä½¿ç”¨è¯´æ˜")]),t._v(" "),a("p",[t._v("åœ¨è‡ªå®šä¹‰æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("updateGlobalObject(updateFn)")]),t._v("ï¼šé€‚ç”¨äºç›´æ¥æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä¸å…³æ³¨æ‰§è¡Œç»“æœçš„åœºæ™¯ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("updateGlobalObject(context, updateFn)")]),t._v("ï¼šé€‚ç”¨äºä½¿ç”¨ä¾èµ–å¤–éƒ¨èµ„æºçš„è‡ªå®šä¹‰è§„åˆ™æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä½†ä¸å…³æ³¨æ‰§è¡Œç»“æœçš„åœºæ™¯ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("updateGlobalObject(context, updateFn, callBack)")]),t._v("ï¼šé€‚ç”¨äºä½¿ç”¨ä¾èµ–å¤–éƒ¨èµ„æºçš„è‡ªå®šä¹‰è§„åˆ™æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„åœºæ™¯ã€‚")])])]),t._v(" "),a("h5",{attrs:{id:"å‚æ•°åˆ—è¡¨-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°åˆ—è¡¨-13"}},[t._v("#")]),t._v(" å‚æ•°åˆ—è¡¨")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("context")]),t._v("ï¼šåº”ç”¨äºæ›´æ–°è§„åˆ™çš„èµ„æºä¸Šä¸‹æ–‡ï¼Œéå¿…å¡«é¡¹ã€‚")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("updateFn")]),t._v("ï¼š"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„è‡ªå®šä¹‰æ›´æ–°è§„åˆ™ï¼Œå¿…å¡«é¡¹ï¼Œæ˜¯ä¸€ä¸ª"),a("code",[t._v("Function")]),t._v("ã€‚å…¶å‚æ•°åˆ—è¡¨ä¸º"),a("code",[t._v("(globalObject, context)")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("globalObject")]),t._v("ï¼šæ‰§è¡Œæ›´æ–°æ“ä½œæ—¶åº”ç”¨ç¨‹åºä¸­"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„å¿«ç…§ã€‚")]),t._v(" "),a("li",[a("code",[t._v("context")]),t._v("ï¼šå¤–éƒ¨èµ„æºä¸Šä¸‹æ–‡ã€‚å½“æ‰§è¡Œè‡ªå®šä¹‰æ›´æ–°æ“ä½œæœªæŒ‡å®šèµ„æºä¸Šä¸‹æ–‡æ—¶ï¼Œåˆ™æ­¤å€¼ä¸º"),a("code",[t._v("undefined")]),t._v("ã€‚")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("è‡ªå®šä¹‰æ›´æ–°è§„åˆ™"),a("code",[t._v("updateFn")]),t._v("ä¸­"),a("strong",[t._v("ä¸å…è®¸æ‰§è¡Œå¼‚æ­¥é€»è¾‘")]),t._v("ä¹Ÿ"),a("strong",[t._v("æ— æ³•è®¿é—®å¤–éƒ¨å˜é‡")]),t._v("ã€‚"),a("strong",[t._v("ClusterCore")]),t._v("å°†ä½¿ç”¨"),a("code",[t._v("Object.assign()")]),t._v("å°†"),a("code",[t._v("updateFn")]),t._v("çš„æ‰§è¡Œç»“æœåº”ç”¨è‡³"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨"),a("code",[t._v("updateFn")]),t._v("ä¸­æ ¹æ®å¤–éƒ¨ä¾èµ–èµ„æº"),a("code",[t._v("context")]),t._v("å’Œå½“å‰"),a("code",[t._v("globalObject")]),t._v("å®Œæˆè§£æå’Œè®¡ç®—ï¼Œå¹¶é€šè¿‡ä½¿ç”¨"),a("code",[t._v("Spread")]),t._v("ç­‰æ“ä½œç¬¦é‡ç»„æ–°çš„"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ä½¿ç”¨"),a("code",[t._v("return")]),t._v("æŒ‡ä»¤è¿”å›ã€‚")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("callBack")]),t._v("ï¼šè‡ªå®šä¹‰æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("çš„æ‰§è¡Œç»“æœï¼Œéå¿…å¡«é¡¹ï¼Œæ˜¯ä¸€ä¸ªcpsé£æ ¼çš„"),a("code",[t._v("Function")]),t._v("ã€‚å…¶å‚æ•°åˆ—è¡¨ä¸º"),a("code",[t._v("(error, globalObject)")]),t._v("ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("error")]),t._v("ï¼šè‡ªå®šä¹‰æ›´æ–°"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("å¤±è´¥çš„åŸå› ï¼Œä¸º"),a("code",[t._v("null")]),t._v("æ—¶è¡¨ç¤ºæ›´æ–°åŠ¨ä½œæ‰§è¡ŒæˆåŠŸã€‚")]),t._v(" "),a("li",[a("code",[t._v("globalObject")]),t._v("ï¼šè‡ªå®šä¹‰æ›´æ–°æ“ä½œæ‰§è¡ŒæˆåŠŸåçš„"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("ï¼Œå½“æ“ä½œæ‰§è¡Œå¤±è´¥æ—¶ä¸º"),a("code",[t._v("undefined")]),t._v("ã€‚")])])])]),t._v(" "),a("h5",{attrs:{id:"ä½¿ç”¨æ ·ä¾‹-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ ·ä¾‹-5"}},[t._v("#")]),t._v(" ä½¿ç”¨æ ·ä¾‹")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å€ŸåŠ©"),a("strong",[t._v("å…¨å±€å¯¹è±¡")]),t._v("æ¥å®ç°ä¸€ä¸ªåœ¨è¿›ç¨‹ç»„ä¸­ç«äº‰èµ„æºçš„Demoï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Core "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node-corejs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppMain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * è¿›ç¨‹åˆå§‹åŒ–å®Œæˆ\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onProcessDidInit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" launchParams"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨ä¸»è¿›ç¨‹ä¸­è®¾ç½®èµ„æºæ€»æ•°ä¸º9")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»º8ä¸ªWorkerè¿›ç¨‹å¯¹èµ„æºè¿›è¡Œç«äº‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'M'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'totalCount'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨å­è¿›ç¨‹ä¸­ç«äº‰èµ„æº,å¹¶å…³é—­æœªè·å¾—èµ„æºçš„è¿›ç¨‹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åç§»ä¸ºå¥‡æ•°çš„è¿›ç¨‹å ç”¨1ä¸ªèµ„æº")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åç§»ä¸ºå¶æ•°çš„è¿›ç¨‹å ç”¨2ä¸ªèµ„æº")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—è¿›ç¨‹åç§»å¹¶å®šä¹‰æ›´æ–°è§„åˆ™ä¾èµ–çš„èµ„æºä¸Šä¸‹æ–‡")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" processOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" context "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" processOffset "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateGlobalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®å¤–éƒ¨èµ„æºä¸Šä¸‹æ–‡")]),t._v("\n        context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®è‡ªå®šä¹‰æ›´æ–°è§„åˆ™")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("globalObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" totalCount "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" globalObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" processOffset "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ¹æ®è¿›ç¨‹åç§»å°è¯•å¯¹èµ„æºè¿›è¡Œé¢„å ä½")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("processOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            totalCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            totalCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“èµ„æºä¸è¶³æ—¶æŠ›å‡ºå¼‚å¸¸,ä¸æ”¹å˜å…¨å±€å¯¹è±¡")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("totalCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'èµ„æºä¸è¶³'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// èµ„æºé¢„å ä½æˆåŠŸæ—¶æ›´æ–°å…¨å±€å¯¹è±¡æ‰£é™¤å¯¹åº”çš„èµ„æº")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("globalObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              totalCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤„ç†æ›´æ–°ç»“æœ")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" globalObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“æ›´æ–°å…¨å±€å¯¹è±¡å¤±è´¥æ—¶è¯´æ˜ç«äº‰èµ„æºå¤±è´¥,é€€å‡ºè¿›ç¨‹")]),t._v("\n          err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("exit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("è¿›ç¨‹[")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("processId"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("]è·å–èµ„æºæˆåŠŸï¼Œå½“å‰å‰©ä½™èµ„æº -> ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("globalObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("totalCount"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * Workerè¿›ç¨‹é€€å‡º\n   * @override\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onWorkerProcessDidExit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("exitedProcessId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exitedDetail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reboot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("è¿›ç¨‹[")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("exitedProcessId"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("]å› æœªè·å–åˆ°èµ„æºé€€å‡º")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨AppMainåˆå§‹åŒ–ClusterCoreå¹¶å¯åŠ¨")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AppMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ClusterCore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br"),a("span",{staticClass:"line-number"},[t._v("69")]),a("br"),a("span",{staticClass:"line-number"},[t._v("70")]),a("br"),a("span",{staticClass:"line-number"},[t._v("71")]),a("br"),a("span",{staticClass:"line-number"},[t._v("72")]),a("br"),a("span",{staticClass:"line-number"},[t._v("73")]),a("br"),a("span",{staticClass:"line-number"},[t._v("74")]),a("br"),a("span",{staticClass:"line-number"},[t._v("75")]),a("br"),a("span",{staticClass:"line-number"},[t._v("76")]),a("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);